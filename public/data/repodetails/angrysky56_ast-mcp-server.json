{
  "mcp_name": "angrysky56/ast-mcp-server",
  "mcp_description": "Provides code structure and semantic analysis using AST and ASG for multiple programming languages, enhancing code analysis capabilities in Claude Desktop.",
  "mcp_id": "angrysky56_ast-mcp-server",
  "fetch_timestamp": "2025-06-23T01:08:15.444398Z",
  "github_url": "https://github.com/angrysky56/ast-mcp-server",
  "repository": {
    "name": "ast-mcp-server",
    "full_name": "angrysky56/ast-mcp-server",
    "description": "AST/ASG Code Analysis MCP Server",
    "html_url": "https://github.com/angrysky56/ast-mcp-server",
    "created_at": "2025-04-25T07:32:20Z",
    "updated_at": "2025-06-13T11:24:43Z",
    "pushed_at": "2025-06-07T09:14:18Z",
    "size": 126,
    "stargazers_count": 11,
    "watchers_count": 11,
    "forks_count": 1,
    "open_issues_count": 0,
    "language": "Python",
    "license": "MIT License",
    "topics": [
      "asg",
      "ast",
      "claude",
      "coding",
      "mcp-server"
    ],
    "default_branch": "main",
    "owner": {
      "login": "angrysky56",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/113643118?v=4",
      "html_url": "https://github.com/angrysky56"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 1,
    "subscribers_count": 2,
    "languages": {
      "Python": 85377,
      "Shell": 312
    },
    "language_percentages": {
      "Python": 99.64,
      "Shell": 0.36
    },
    "pull_requests_count": 0,
    "contributors_count": 1
  },
  "readme": "# AST MCP Server\n\nAn MCP (Model Context Protocol) server that provides code structure and semantic analysis capabilities through Abstract Syntax Trees (AST) and Abstract Semantic Graphs (ASG).\n\n## Features\n\n- Parse code into Abstract Syntax Trees (AST)\n- Generate Abstract Semantic Graphs (ASG) from code\n- Analyze code structure and complexity\n- Support for multiple programming languages (Python, JavaScript)\n- Compatible with Claude Desktop and other MCP clients\n- Incremental parsing for faster processing of large files\n- Enhanced scope handling and more complete semantic analysis\n- AST diffing to identify changes between code versions\n\n## Installation\n\n1. Clone this repository:\n\n```bash\ngit clone https://github.com/yourusername/ast-mcp-server.git\ncd ast-mcp-server\n```\n\n2. Set up the environment using `uv`:\n\n```bash\n# Install uv if you don't have it already\n# pip install uv\n\n# Create and activate virtual environment\nuv venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n\n# Install dependencies\nuv pip install -r requirements.txt\n```\n\n3. Build the parsers:\n\n```bash\nuv run build_parsers.py\n```\n\n## Usage with Claude Desktop\n\n1. Configure Claude Desktop to use the server. The easiest way is to use the provided `claude_desktop_config.json` file:\n\n```json\n{\n  \"mcpServers\": {\n    \"AstAnalyzer\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"--directory\", \"/absolute/path/to/ast-mcp-server\",\n        \"run\", \"server.py\"\n      ]\n    }\n  }\n}\n```\n\n2. Make sure to replace `/absolute/path/to/ast-mcp-server` with the actual absolute path on your system.\n\n3. Add this configuration to your Claude Desktop config:\n   - On macOS: `~/Library/Application Support/claude-desktop/claude_desktop_config.json`\n   - On Linux: `~/.config/claude-desktop/claude_desktop_config.json`\n   - On Windows: `%APPDATA%\\claude-desktop\\claude_desktop_config.json`\n\n4. Restart Claude Desktop to load the new MCP server.\n\n5. In Claude Desktop, you can now use the AST-based code analysis tools.\n\nThe AST MCP Server is working correctly. Here's a summary of the features I've verified:\n\nBasic AST Parsing ✓\n\nSuccessfully parsed Python code into a detailed abstract syntax tree\nThe structure shows proper node hierarchy with types, positions, and content\n\nASG Generation ✓\n\nGenerated an Abstract Semantic Graph with nodes and edges\nThe graph correctly shows relationships between components\n\nCode Analysis ✓\n\nSuccessfully analyzed code structure, identifying:\n\nFunctions (with names, locations, and parameters)\nClasses\nComplexity metrics\n\nResource Caching ✓\n\nThe parse_and_cache function worked correctly\nA URI was generated for retrieving the parsed AST later\n\nMulti-language Support ✓\n\nSuccessfully parsed both Python and JavaScript code\nThe supported_languages tool confirmed Python and JavaScript are available\n\n\nThe server is fully operational and all key functionality works as expected. When integrated with Claude Desktop using the updated configuration in claude_desktop_config.json, it will provide powerful code analysis capabilities.\n\n## Development and Testing\n\nTo run the server in development mode with the MCP inspector:\n\n```bash\n# Using the included script\n./dev_server.sh\n\n# Or manually\nuv run -m mcp dev server.py\n```\n\n## Available Tools\n\nThe server provides the following tools:\n\n### Basic Tools\n- `parse_to_ast`: Parse code into an Abstract Syntax Tree\n- `generate_asg`: Generate an Abstract Semantic Graph from code\n- `analyze_code`: Analyze code structure and complexity\n- `supported_languages`: Get the list of supported programming languages\n- `parse_and_cache`: Parse code into an AST and cache it for resource access\n- `generate_and_cache_asg`: Generate an ASG and cache it for resource access\n- `analyze_and_cache`: Analyze code and cache the results for resource access\n\n### Enhanced Tools\n- `parse_to_ast_incremental`: Parse code with incremental support for faster processing\n- `generate_enhanced_asg`: Generate an enhanced ASG with better scope handling\n- `diff_ast`: Find differences between two versions of code\n- `find_node_at_position`: Locate a specific node at a given line and column\n- `parse_and_cache_incremental`: Parse code incrementally and cache the results\n- `generate_and_cache_enhanced_asg`: Generate an enhanced ASG and cache it\n- `ast_diff_and_cache`: Generate an AST diff and cache it\n\n## Adding More Language Support\n\nTo add support for additional languages:\n\n1. Install the corresponding tree-sitter language package:\n\n```bash\nuv pip install tree-sitter-<language>\n```\n\n2. Update the `LANGUAGE_MODULES` dictionary in `build_parsers.py` and `ast_mcp_server/tools.py`.\n\n3. Run `uv run build_parsers.py` to initialize the new language.\n\n## How It Works\n\nThe AST MCP Server connects with Claude Desktop through the Model Context Protocol (MCP). When launched:\n\n1. Claude Desktop starts the server using `uv run` with the appropriate working directory\n2. The server loads tree-sitter language modules for parsing various programming languages\n3. It registers tools and resources with the MCP protocol\n4. Claude can then access these tools to analyze code you share in the chat\n\nAll tool execution happens locally on your machine, with results returned to Claude for interpretation.\n\n## License\n\nMIT\n"
}