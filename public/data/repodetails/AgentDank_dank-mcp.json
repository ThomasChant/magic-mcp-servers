{
  "mcp_name": "AgentDank/dank-mcp",
  "mcp_description": "A specialized MCP server for querying and analyzing cannabis datasets, designed for integration with LLMs like Claude Desktop.",
  "mcp_id": "AgentDank_dank-mcp",
  "fetch_timestamp": "2025-06-23T00:16:58.657761Z",
  "github_url": "https://github.com/AgentDank/dank-mcp",
  "repository": {
    "name": "dank-mcp",
    "full_name": "AgentDank/dank-mcp",
    "description": "Model Context Procotol (MCP) server with tools for Cannabis Datasets.",
    "html_url": "https://github.com/AgentDank/dank-mcp",
    "created_at": "2025-04-04T02:16:36Z",
    "updated_at": "2025-04-06T21:57:08Z",
    "pushed_at": "2025-04-06T02:08:18Z",
    "size": 26,
    "stargazers_count": 1,
    "watchers_count": 1,
    "forks_count": 0,
    "open_issues_count": 0,
    "language": "Go",
    "license": "MIT License",
    "topics": [
      "cannabis",
      "dank",
      "llm",
      "mcp"
    ],
    "default_branch": "main",
    "owner": {
      "login": "AgentDank",
      "type": "Organization",
      "avatar_url": "https://avatars.githubusercontent.com/u/206156108?v=4",
      "html_url": "https://github.com/AgentDank"
    },
    "has_issues": true,
    "has_projects": false,
    "has_downloads": true,
    "has_wiki": false,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 0,
    "subscribers_count": 1,
    "languages": {
      "Go": 42406
    },
    "language_percentages": {
      "Go": 100
    },
    "pull_requests_count": 0,
    "contributors_count": 1,
    "tags": [
      {
        "name": "v0.0.1",
        "commit_sha": "f86786c57722bcf098f9803be0336f6e5299bb14"
      }
    ],
    "latest_version": "v0.0.1"
  },
  "readme": "# AgentDank: &nbsp;&nbsp; `dank-mcp`\n\n`dank-mcp` is a Model Context Procotol (MCP) server that respond to questions about supported Cannabis Datasets.  It is brought to you by AgentDank for educational and legal purposes.\n\nHere's example conversations with [Claude Desktop](#claude-desktop).  You are viewing these links on the Claude.ai website; when using this `dank-mcp` yourself, you must use Claude **Desktop** to utilize the MCP server.   Within the chat, you can expand the Tools call sections to see the SQL requests and CSV results.\n\n * [\"Finding the Dankest Cannabis Flower in CT\"](https://claude.ai/share/e64bb066-ffb5-459b-bb0e-8cdb4f5007c2)\n * [\"Spicy Cannabis Edibles for Sleep\"](https://claude.ai/share/8229f9b9-91b6-433d-8b5c-20d0b577fa23)\n * [\"Sedative Cannabis Flower Recommendations\"](https://claude.ai/share/924f8fcc-0785-4c9f-9902-97c8d3a00658)\n\n\n<p align=\"center\"><video controls src=\"https://private-user-images.githubusercontent.com/26842/430672597-adb8e56f-178d-4646-9e0f-4fcf57614dea.mp4\" title=\"AgentDank \"></video></p>\n\n----\n\n  * [Installation](#installation)\n  * [Using with LLMs](#usage)\n    * [Claude Desktop](#claude-desktop)\n    * [Ollama and mcphost](#ollama-and-mcphost)\n  * [Command Line Usage](#command-line-usage)\n  * [Data Cleaning](#data-cleaning)\n  * [Building](#building)\n  * [Contribution and Conduct](#contribution-and-conduct)\n  * [Credits and License](#credits-and-license)\n\nCurrently the following datasets are supported:\n\n * [US CT Medical Marijuana and Adult Use Cannabis Brand Registry](https://data.ct.gov/Health-and-Human-Services/Medical-Marijuana-and-Adult-Use-Cannabis-Brand-Reg/egd5-wb6r/about_data)\n\nYou can find snapshots of these datasets in the [AgentDant `dank-data`](https://github.com/AgentDank/dank-data) repository.\n\n## Installation\n\nWhile we'd like to have pre-built binaries and Homebrew packages, we're having an issue with that right now.  So the preferred way to install is using `go install` or [building from source](#building):\n\n```sh\n$ go install github.com/AgentDank/dank-mcp@latest\n```\n\nIt will be installed in your `$GOPATH/bin` directory, which is often `~/go/bin`.\n\n\n## Using with LLMs\n\nTo use this `dank-mcp` MCP server, you must configure your host program to use it.  We will illustrate with [Claude Desktop](https://claude.ai/download).  We must find the `dank-mcp` program on our system; the example below shows where `dank-mcp` is installed with my `go install`.\n\nThe following configuration JSON ([also in the repo as `mcp-config.json`](./mcp-config.json)) sets this up:\n\n```json\n{\n    \"mcpServers\": {\n      \"dank\": {\n        \"command\": \"~/go/bin/dank-mcp\",\n        \"args\": [\n          \"--root\", \"~\",\n        ]\n      }\n    }\n  }\n```\n\n### Claude Desktop\n\nUsing Claude Desktop, you can follow [their configuration tutorial](https://modelcontextprotocol.io/quickstart/user) but substitute the configuration above.  With that in place, you can ask Claude question and it will use the `dank-mcp` server.  \n\nHere's example conversations with Claude Desktop.  Remember you are viewing these links on the [Claude.ai](https://claude.ai) website, but you must use Claude Desktop to use the MCP server.   You can click into the Tools calls to see the SQL requests and CSV results.\n\n * [\"Finding the Dankest Cannabis Flower in CT\"](https://claude.ai/share/e64bb066-ffb5-459b-bb0e-8cdb4f5007c2)\n * [\"Spicy Cannabis Edibles for Sleep\"](https://claude.ai/share/8229f9b9-91b6-433d-8b5c-20d0b577fa23)\n * [\"Sedative Cannabis Flower Recommendations\"](https://claude.ai/share/924f8fcc-0785-4c9f-9902-97c8d3a00658)\n\n\n### Ollama and `mcphost`\n\n**I'm currently having issues with this working well, but leaving instructions for those interested. **\n\nFor local inferencing, there are MCP hosts that support [Ollama](https://ollama.com/download).  You can use any [Ollama LLM that supports \"Tools\"](https://ollama.com/search?c=tools).  We experimented with [`mcphost`](https://github.com/mark3labs/mcphost), authored by the developer of the [`mcp-go` library](https://github.com/mark3labs/mcp-go) that peformed the heavy lifting for us.\n\nHere's how to install and run with it with the configuration above, stored in `mcp-config.json`:\n\n```\n$ go install github.com/mark3labs/mcphost@latest\n$ ollama pull llama3.3\n$ mcphost -m ollama:llama3.3 --config mcp-config.json\n...chat away...\n```\n\n## Command Line Usage\n\nHere is the command-line help:\n\n```\nusage: ./bin/dank-mcp [opts]\n\n      --db string         DuckDB data file to use (use :memory: or '' for in-memory) (default \"dank-mcp.duckdb\")\n      --dump              Only download files and populate DB, no MCP server\n  -h, --help              Show help\n  -l, --log-file string   Log file destination (or MCP_LOG_FILE envvar). Default is stderr\n  -j, --log-json          Log in JSON (default is plaintext)\n  -n, --no-fetch          Don't fetch any data, only use what is in current DB\n      --root string       Set root location of '.dank' dir\n      --sse               Use SSE Transport (default is STDIO transport)\n      --sse-host string   host:port to listen to SSE connections\n  -t, --token string      ct.data.gov App Token\n  -v, --verbose           Verbose logging\n```\n\nYou can download and dump the data by running `dank-mcp --dump`.  Snapshots of this data are curated at [AgentDank's `dank-data` repository](https://github.com/AgentDank/dank-data).\n\n```sh\n$ dank-mcp --dump\ntime=2025-04-03T18:18:03.177-04:00 level=INFO msg=dank-mcp\ntime=2025-04-03T18:18:03.185-04:00 level=INFO msg=\"fetching brands from ct.data.gov\"\ntime=2025-04-03T18:18:24.055-04:00 level=INFO msg=\"inserting brands into db\" count=26499\ntime=2025-04-03T18:18:52.533-04:00 level=INFO msg=finished\n```\n\n## Data Cleaning\n\nBecause the upstream datasets are not perfect, we have to \"clean\" it.  Such practices are opinionated, but since this is Open Source, you can inspect how we clean it by examining the code.  For example:\n\n  * CT Brands cleaning\n  * Extract \"trace\" values from text measurments\n\nGenerally, we simply remove weird characters.  We treat detected \"trace\" amounts as 0 -- and even with that, there's a decision about what field entry actually means \"trace\".  \n\nWe also remove rows with riduclous data -- as much as I'd love a `90,385% THC product`, I don't think it really exists.  In that case, it was an incorrect decimal point (by looking at the label picture), but not every picture validates every error.  It's also a pain -- but maybe a multi-modal vision LLM can help with that?\n\n## Building\n\nBuilding is performed with [task](https://taskfile.dev/):\n\n```\n$ task\ntask: [build] go build -o dank-mcp cmd/dank-mcp/main.go\n```\n\n## Notes on Design\n\nThis was quick experiment of the surface of MCPs and this data. In the current design, `dank-mcp` fetches the dataset, cleans it, populates a DuckDB with it; it then presents that DuckDB with a custom MCP server.\n\nThis could be broken into different tools.  The fetch/clean/download can be stand-alone, and we already publish data to the [`dank-data` repository](https://github.com/AgentDank/dank-data).    There is MotherDuck's generalized [`mcp-server-motherduck`](https://github.com/motherduckdb/mcp-server-motherduck), which can work with any DuckDB file.   So that MCP server could slurp the DuckDB file from that repo instead.\n\nI do think one aspect here is that `dank-mcp` will have a bundle of Prompts and Tools that will be domain-specific?\n\n----\n\n## Contribution and Conduct\n\nPull requests and issues are welcome.  Or fork it.  You do you.\n\nEither way, obey our [Code of Conduct](./CODE_OF_CONDUCT.md).  Be shady, but don't be a jerk.\n\n## Credits and License\n\nCopyright (c) 2025 Neomantra Corp.  Authored by Evan Wies for [AgentDank](https://github.com/AgentDank).\n\nReleased under the [MIT License](https://en.wikipedia.org/wiki/MIT_License), see [LICENSE.txt](./LICENSE.txt).\n\n----\nMade with :herb: and :fire: by the team behind [AgentDank](https://github.com/AgentDank).\n"
}