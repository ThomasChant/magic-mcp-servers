{
  "mcp_name": "yinzhouzhi/filesystem-server",
  "mcp_description": "Facilitates local filesystem access and operations through a Model Context Protocol-based server.",
  "mcp_id": "yinzhouzhi_filesystem-server",
  "fetch_timestamp": "2025-06-23T09:39:46.629146Z",
  "github_url": "https://github.com/yinzhouzhi/filesystem-server",
  "repository": {
    "name": "filesystem-server",
    "full_name": "yinzhouzhi/filesystem-server",
    "description": "åŸºäºModel Context Protocolï¼ˆMCPï¼‰çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œæœåŠ¡å™¨ï¼Œæä¾›å¯¹æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„è®¿é—®å’Œæ“ä½œèƒ½åŠ›",
    "html_url": "https://github.com/yinzhouzhi/filesystem-server",
    "created_at": "2025-04-26T09:12:12Z",
    "updated_at": "2025-04-26T09:25:26Z",
    "pushed_at": "2025-04-26T09:22:09Z",
    "size": 64,
    "stargazers_count": 1,
    "watchers_count": 1,
    "forks_count": 0,
    "open_issues_count": 0,
    "language": "JavaScript",
    "license": null,
    "topics": [],
    "default_branch": "master",
    "owner": {
      "login": "yinzhouzhi",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/50107414?v=4",
      "html_url": "https://github.com/yinzhouzhi"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 0,
    "subscribers_count": 1,
    "languages": {
      "JavaScript": 230724
    },
    "language_percentages": {
      "JavaScript": 100
    },
    "pull_requests_count": 0,
    "contributors_count": 1,
    "package_json_version": "1.0.7"
  },
  "readme": "# MCPæ–‡ä»¶ç³»ç»ŸæœåŠ¡å™¨\n\n[![ç‰ˆæœ¬](https://img.shields.io/npm/v/@yinzhouzhi/mcp-filesystem-server.svg)](https://www.npmjs.com/package/@yinzhouzhi/mcp-filesystem-server)\n[![è®¸å¯è¯](https://img.shields.io/npm/l/@yinzhouzhi/mcp-filesystem-server.svg)](https://github.com/yinzhouzhi/mcp-filesystem-server/blob/main/LICENSE)\n[![nodeç‰ˆæœ¬](https://img.shields.io/node/v/@yinzhouzhi/mcp-filesystem-server.svg)](https://www.npmjs.com/package/@yinzhouzhi/mcp-filesystem-server)\n\nåŸºäºModel Context Protocolï¼ˆMCPï¼‰çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œæœåŠ¡å™¨ï¼Œæä¾›å¯¹æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„è®¿é—®å’Œæ“ä½œèƒ½åŠ›ã€‚\n\n## ç›®å½•\n\n- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)\n- [å®‰è£…](#å®‰è£…)\n- [å‘½ä»¤è¡Œä½¿ç”¨](#å‘½ä»¤è¡Œä½¿ç”¨)\n- [ç¼–ç¨‹æ–¹å¼ä½¿ç”¨](#ç¼–ç¨‹æ–¹å¼ä½¿ç”¨)\n- [å¯ç”¨å·¥å…·](#å¯ç”¨å·¥å…·)\n  - [æ–‡ä»¶æ“ä½œ](#æ–‡ä»¶æ“ä½œ)\n  - [Officeæ–‡ä»¶æ“ä½œ](#officeæ–‡ä»¶æ“ä½œ)\n  - [ç›®å½•æ“ä½œ](#ç›®å½•æ“ä½œ)\n  - [è¡Œæ“ä½œ](#è¡Œæ“ä½œ) \n  - [ç›‘æ§å·¥å…·](#ç›‘æ§å·¥å…·)\n  - [ç³»ç»Ÿå·¥å…·](#ç³»ç»Ÿå·¥å…·)\n- [ç”¨æ³•ç¤ºä¾‹](#ç”¨æ³•ç¤ºä¾‹)\n- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)\n- [ç›‘æ§å™¨ç®¡ç†æ± ](#ç›‘æ§å™¨ç®¡ç†æ± )\n- [è®¸å¯è¯](#è®¸å¯è¯)\n\n## åŠŸèƒ½ç‰¹æ€§\n\n- âœ… åŸºäºMCP SDKå®ç°ï¼Œç¬¦åˆMCPè§„èŒƒ\n- ğŸ“‚ æä¾›å®Œæ•´çš„æ–‡ä»¶æ“ä½œèƒ½åŠ›ï¼šè¯»å†™ã€å¤åˆ¶ã€ç§»åŠ¨ã€åˆ é™¤ç­‰\n- ğŸ“ æ”¯æŒç›®å½•æ“ä½œï¼šåˆ›å»ºã€åˆ é™¤ã€åˆ—è¡¨ç­‰\n- ğŸ“ æ”¯æŒæ–‡ä»¶å†…å®¹è¡Œçº§æ“ä½œï¼šè¯»å†™ç‰¹å®šè¡Œã€æœç´¢å†…å®¹ç­‰\n- ğŸ‘€ æ”¯æŒæ–‡ä»¶ç›‘æ§ï¼šç›‘å¬æ–‡ä»¶å’Œç›®å½•å˜æ›´\n- ğŸ”„ é€šè¿‡æ ‡å‡†è¾“å…¥/è¾“å‡ºï¼ˆstdioï¼‰é€šä¿¡ï¼Œæ˜“äºé›†æˆ\n- ğŸ› ï¸ åŒ…å«å‘½ä»¤è¡Œå·¥å…·ï¼Œæ–¹ä¾¿ç›´æ¥ä½¿ç”¨\n- ğŸ“Š é«˜æ€§èƒ½è®¾è®¡ï¼šç¼“å­˜æœºåˆ¶ã€æµå¤„ç†ã€å¼‚æ­¥æ“ä½œ\n\n## Cursor\n```bash\n{\n    \"mcpServers\": {\n        \"filesystem\": {\n          \"command\": \"npx\",\n          \"args\": [\n            \"-y\",\n            \"@yinzhouzhi/mcp-filesystem-server\",\n            \"start\"\n          ],\n          \"autoConnect\": true\n        },\n    }\n}\n```\n\n## å®‰è£…\n\n```bash\n# å…¨å±€å®‰è£…\nnpm install -g @yinzhouzhi/mcp-filesystem-server\n\n# æˆ–è€…å±€éƒ¨å®‰è£…åˆ°é¡¹ç›®\nnpm install --save @yinzhouzhi/mcp-filesystem-server\n\n# æ— éœ€å®‰è£…ï¼Œç›´æ¥é€šè¿‡npxä½¿ç”¨\nnpx @yinzhouzhi/mcp-filesystem-server <å‘½ä»¤>\n```\n\n## å‘½ä»¤è¡Œä½¿ç”¨\n\n### åŸºæœ¬å‘½ä»¤\n\n```bash\n# å¯åŠ¨æœåŠ¡å™¨\nmcp-filesystem-server start\n\n# æŸ¥çœ‹å¸®åŠ©\nmcp-filesystem-server --help\n\n# åˆ—å‡ºæ‰€æœ‰å¯ç”¨å·¥å…·\nmcp-filesystem-server list-tools\n\n# æŸ¥çœ‹è¿æ¥ç¤ºä¾‹\nmcp-filesystem-server example\n```\n\n### ä½¿ç”¨npxï¼ˆæ— éœ€å®‰è£…ï¼‰\n\n```bash\n# å¯åŠ¨æœåŠ¡å™¨\nnpx @yinzhouzhi/mcp-filesystem-server start\n\n# æŸ¥çœ‹å¸®åŠ©\nnpx @yinzhouzhi/mcp-filesystem-server --help\n\n# åˆ—å‡ºæ‰€æœ‰å¯ç”¨å·¥å…·\nnpx @yinzhouzhi/mcp-filesystem-server list-tools\n```\n\n### å¯åŠ¨é€‰é¡¹\n\n```\nOptions:\n  -d, --debug              å¯ç”¨è°ƒè¯•æ¨¡å¼\n  -l, --log-level <level>  è®¾ç½®æ—¥å¿—çº§åˆ« (debug, info, warn, error) (é»˜è®¤: \"info\")\n  -p, --log-path <path>    è®¾ç½®æ—¥å¿—æ–‡ä»¶è·¯å¾„ (é»˜è®¤: å½“å‰ç›®å½•ä¸‹çš„logsæ–‡ä»¶å¤¹)\n  -r, --rotation-type <type> è®¾ç½®æ—¥å¿—è½®è½¬ç±»å‹ (size, daily, weekly, monthly) (é»˜è®¤: \"size\")\n  -s, --max-size <size>    è®¾ç½®æ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å° (å¦‚ 10MB) (é»˜è®¤: 10MB)\n  -f, --max-files <num>    è®¾ç½®ä¿ç•™çš„è½®è½¬æ—¥å¿—æ–‡ä»¶æ•°é‡ (é»˜è®¤: 5)\n  --no-rotate              ç¦ç”¨æ—¥å¿—è½®è½¬\n  --no-compress            ç¦ç”¨è½®è½¬æ—¥å¿—å‹ç¼©\n  -h, --help               æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯\n```\n\n## ç¼–ç¨‹æ–¹å¼ä½¿ç”¨\n\n### ä½œä¸ºæœåŠ¡å™¨å¯åŠ¨\n\n```javascript\nconst { startServer } = require('@yinzhouzhi/mcp-filesystem-server');\n\n// å¯åŠ¨æœåŠ¡å™¨\nstartServer({\n  debug: true,\n  logLevel: 'debug',\n  logPath: './logs/server.log',\n  // æ—¥å¿—è½®è½¬é…ç½®\n  rotateLogFiles: true,             // æ˜¯å¦å¯ç”¨æ—¥å¿—è½®è½¬\n  rotationType: 'daily',            // è½®è½¬ç±»å‹: 'size', 'daily', 'weekly', 'monthly'\n  maxLogFileSize: 20 * 1024 * 1024, // æŒ‰å¤§å°è½®è½¬æ—¶çš„æœ€å¤§æ–‡ä»¶å¤§å° (20MB)\n  maxLogFiles: 10,                  // ä¿ç•™çš„è½®è½¬æ—¥å¿—æ–‡ä»¶æ•°é‡\n  compressRotatedLogs: true         // æ˜¯å¦å‹ç¼©è½®è½¬åçš„æ—¥å¿—æ–‡ä»¶\n}).then(result => {\n  console.log('æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ:', result);\n}).catch(err => {\n  console.error('æœåŠ¡å™¨å¯åŠ¨å¤±è´¥:', err);\n});\n```\n\n### è¿æ¥åˆ°MCPæœåŠ¡å™¨\n\n```javascript\nconst { McpClient } = require('@modelcontextprotocol/sdk/client/mcp.js');\nconst { StdioClientTransport } = require('@modelcontextprotocol/sdk/client/stdio.js');\nconst { spawn } = require('child_process');\n\nasync function connectToMcpServer() {\n  // å¯åŠ¨MCPæœåŠ¡å™¨è¿›ç¨‹\n  const serverProcess = spawn('mcp-filesystem-server', ['start'], {\n    stdio: ['pipe', 'pipe', 'pipe']\n  });\n  \n  // åˆ›å»ºSTDIOä¼ è¾“\n  const transport = new StdioClientTransport({\n    input: serverProcess.stdout,\n    output: serverProcess.stdin,\n    error: serverProcess.stderr\n  });\n  \n  // åˆ›å»ºå®¢æˆ·ç«¯\n  const client = new McpClient();\n  await client.connect(transport);\n  \n  // è°ƒç”¨å·¥å…·ç¤ºä¾‹\n  const result = await client.invokeTool('read_file', {\n    path: './example.txt',\n    encoding: 'utf8'\n  });\n  \n  console.log('æ–‡ä»¶å†…å®¹:', result);\n  \n  // å…³é—­è¿æ¥\n  await client.disconnect();\n  serverProcess.kill();\n}\n\nconnectToMcpServer().catch(console.error);\n```\n\n### é€šè¿‡npxè¿æ¥åˆ°MCPæœåŠ¡å™¨\n\n```javascript\nconst { spawn } = require('child_process');\nconst { McpClient } = require('@modelcontextprotocol/sdk/client/mcp.js');\nconst { StdioClientTransport } = require('@modelcontextprotocol/sdk/client/stdio.js');\n\nasync function connectWithNpx() {\n  // ä½¿ç”¨npxå¯åŠ¨MCPæœåŠ¡å™¨\n  const serverProcess = spawn('npx', ['@yinzhouzhi/mcp-filesystem-server', 'start'], {\n    stdio: ['pipe', 'pipe', 'pipe']\n  });\n  \n  // åˆ›å»ºSTDIOä¼ è¾“\n  const transport = new StdioClientTransport({\n    input: serverProcess.stdout,\n    output: serverProcess.stdin,\n    error: serverProcess.stderr\n  });\n  \n  // åˆ›å»ºå®¢æˆ·ç«¯å¹¶è¿æ¥\n  const client = new McpClient();\n  await client.connect(transport);\n  \n  // è°ƒç”¨MCPå·¥å…·\n  const result = await client.invokeTool('read_file', {\n    path: './example.txt',\n    encoding: 'utf8'\n  });\n  \n  console.log('æ–‡ä»¶å†…å®¹:', result);\n  \n  // å…³é—­è¿æ¥\n  await client.disconnect();\n  serverProcess.kill();\n}\n\nconnectWithNpx().catch(console.error);\n```\n\n## å¯ç”¨å·¥å…·\n\næœåŠ¡å™¨æä¾›ä»¥ä¸‹MCPå·¥å…·ï¼š\n\n### æ–‡ä»¶æ“ä½œ\n\n| å·¥å…·åç§° | æè¿° | ä¸»è¦å‚æ•° |\n|---------|------|---------|\n| `read_file` | è¯»å–æ–‡ä»¶å†…å®¹ | path, encoding |\n| `write_file` | å†™å…¥æ–‡ä»¶å†…å®¹ | path, content, encoding |\n| `append_file` | è¿½åŠ æ–‡ä»¶å†…å®¹ | path, content, encoding |\n| `delete_file` | åˆ é™¤æ–‡ä»¶ | path |\n| `copy_file` | å¤åˆ¶æ–‡ä»¶ | sourcePath, destinationPath, overwrite |\n| `move_file` | ç§»åŠ¨æ–‡ä»¶ | sourcePath, destinationPath, overwrite |\n| `get_file_info` | è·å–æ–‡ä»¶ä¿¡æ¯ | path |\n| `file_exists` | æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ | path |\n\n### Officeæ–‡ä»¶æ“ä½œ\n\n#### `read_word_document`\n\nè¯»å–Wordæ–‡æ¡£å†…å®¹å¹¶è½¬æ¢ä¸ºæ–‡æœ¬ï¼ˆæ”¯æŒ.docå’Œ.docxæ ¼å¼ï¼‰\n\n**å‚æ•°ï¼š**\n- `path`: Wordæ–‡ä»¶è·¯å¾„(.docæˆ–.docxæ ¼å¼)ã€å¿…éœ€ã€‘\n- `outputFormat`: è¾“å‡ºæ ¼å¼ï¼Œæ”¯æŒ'text'å’Œ'html'ï¼Œé»˜è®¤'text'\n- `extractImages`: æ˜¯å¦æå–å›¾ç‰‡ä¿¡æ¯ï¼Œé»˜è®¤false\n- `includeStyles`: æ˜¯å¦åŒ…å«æ ·å¼ä¿¡æ¯ï¼Œé»˜è®¤false\n- `pagination`: åˆ†é¡µå‚æ•°ï¼Œç”¨äºå¤§æ–‡æ¡£åˆ†é¡µè¯»å–ï¼Œæ ¼å¼å¦‚ï¼š`{pageSize: 1000, pageNum: 1}`\n- `range`: è¯»å–èŒƒå›´ï¼ŒæŒ‡å®šèµ·å§‹è¡Œå’Œç»“æŸè¡Œï¼Œæ ¼å¼å¦‚ï¼š`{startLine: 1, endLine: 100}`\n- `splitByParagraphs`: æ˜¯å¦æŒ‰æ®µè½æ‹†åˆ†è¿”å›ï¼Œé»˜è®¤false\n  \n#### `read_excel_file`\n\nè¯»å–Excelæ–‡ä»¶å†…å®¹ï¼ˆæ”¯æŒ.xlsxã€.xlså’Œ.csvæ ¼å¼ï¼‰\n\n**å‚æ•°ï¼š**\n- `path`: Excelæ–‡ä»¶è·¯å¾„(.xlsxã€.xlsæˆ–.csvæ ¼å¼)ã€å¿…éœ€ã€‘\n- `sheet`: å·¥ä½œè¡¨åç§°æˆ–ç´¢å¼•(ä»0å¼€å§‹)ï¼Œé»˜è®¤è¯»å–ç¬¬ä¸€ä¸ªå·¥ä½œè¡¨\n- `outputFormat`: è¾“å‡ºæ ¼å¼ï¼Œæ”¯æŒ'json'ã€'csv'å’Œ'array'ï¼Œé»˜è®¤'array'\n- `range`: è¯»å–èŒƒå›´ï¼Œä¾‹å¦‚`{startRow:1, endRow:10, startCol:1, endCol:5}`\n- `includeFormulas`: æ˜¯å¦åŒ…å«å…¬å¼ï¼Œé»˜è®¤false\n- `headerRow`: æ˜¯å¦å°†ç¬¬ä¸€è¡Œä½œä¸ºè¡¨å¤´ï¼Œé»˜è®¤false\n\n### ç›®å½•æ“ä½œ\n\n| å·¥å…·åç§° | æè¿° | ä¸»è¦å‚æ•° |\n|---------|------|---------|\n| `list_directory` | åˆ—å‡ºç›®å½•å†…å®¹ | path, recursive, pattern |\n| `create_directory` | åˆ›å»ºç›®å½• | path, recursive |\n| `remove_directory` | åˆ é™¤ç›®å½• | path, recursive, force |\n| `directory_exists` | æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨ | path |\n\n### è¡Œæ“ä½œ\n\n| å·¥å…·åç§° | æè¿° | ä¸»è¦å‚æ•° |\n|---------|------|---------|\n| `read_lines` | è¯»å–æ–‡ä»¶æŒ‡å®šè¡Œ | path, startLine, endLine, encoding |\n| `write_lines` | å†™å…¥æ–‡ä»¶æŒ‡å®šè¡Œ | path, lineNumber, content, encoding |\n| `insert_line` | æ’å…¥è¡Œ | path, lineNumber, content, encoding |\n| `delete_lines` | åˆ é™¤è¡Œ | path, startLine, endLine, encoding |\n| `search_file_content` | æœç´¢æ–‡ä»¶å†…å®¹ | path, searchTerm, regex, caseSensitive |\n\n### ç›‘æ§å·¥å…·\n\n| å·¥å…·åç§° | æè¿° | ä¸»è¦å‚æ•° |\n|---------|------|---------|\n| `watch_path` | ç›‘æ§æ–‡ä»¶æˆ–ç›®å½•å˜æ›´ | path, recursive, events |\n| `stop_watch` | åœæ­¢ç›‘æ§ | watcherId |\n| `list_watchers` | åˆ—å‡ºæ‰€æœ‰ç›‘æ§ | - |\n\n### ç³»ç»Ÿå·¥å…·\n\n| å·¥å…·åç§° | æè¿° | ä¸»è¦å‚æ•° |\n|---------|------|---------|\n| `get_server_status` | è·å–æœåŠ¡å™¨çŠ¶æ€ | includeStats |\n\n## ç”¨æ³•ç¤ºä¾‹\n\n### æ–‡ä»¶è¯»å†™\n\n```javascript\n// è¯»å–æ–‡ä»¶\nconst content = await client.invokeTool('read_file', {\n  path: './example.txt',\n  encoding: 'utf8'\n});\n\n// å†™å…¥æ–‡ä»¶\nawait client.invokeTool('write_file', {\n  path: './output.txt',\n  content: 'è¿™æ˜¯æ–‡ä»¶å†…å®¹',\n  encoding: 'utf8'\n});\n\n// è¿½åŠ å†…å®¹\nawait client.invokeTool('append_file', {\n  path: './log.txt',\n  content: 'æ–°çš„æ—¥å¿—æ¡ç›®\\n',\n  encoding: 'utf8'\n});\n```\n\n### æŒ‰è¡Œæ“ä½œ\n\n```javascript\n// è¯»å–ç‰¹å®šè¡Œ\nconst lines = await client.invokeTool('read_lines', {\n  path: './data.txt',\n  startLine: 10,\n  endLine: 20\n});\n\n// æ’å…¥ä¸€è¡Œ\nawait client.invokeTool('insert_line', {\n  path: './config.txt',\n  lineNumber: 5,\n  content: 'new_setting=value'\n});\n\n// åˆ é™¤å¤šè¡Œ\nawait client.invokeTool('delete_lines', {\n  path: './log.txt',\n  startLine: 100,\n  endLine: 200\n});\n```\n\n### æ–‡ä»¶ä¸ç›®å½•ç®¡ç†\n\n```javascript\n// å¤åˆ¶æ–‡ä»¶\nawait client.invokeTool('copy_file', {\n  sourcePath: './original.txt',\n  destinationPath: './backup/copy.txt',\n  overwrite: true\n});\n\n// åˆ›å»ºç›®å½•\nawait client.invokeTool('create_directory', {\n  path: './data/reports/2023',\n  recursive: true\n});\n\n// åˆ—å‡ºç›®å½•å†…å®¹\nconst files = await client.invokeTool('list_directory', {\n  path: './documents',\n  recursive: true,\n  pattern: '*.pdf'\n});\n```\n\n### ç›‘æ§æ–‡ä»¶å˜åŒ–\n\n```javascript\n// å¼€å§‹ç›‘æ§\nconst watcherId = await client.invokeTool('watch_path', {\n  path: './config',\n  recursive: true,\n  events: 'change,add,unlink'\n});\n\n// åˆ—å‡ºæ‰€æœ‰ç›‘æ§\nconst watchers = await client.invokeTool('list_watchers');\n\n// åœæ­¢ç›‘æ§\nawait client.invokeTool('stop_watch', {\n  watcherId: watcherId\n});\n```\n\n## æ€§èƒ½ä¼˜åŒ–\n\næ–‡ä»¶ç³»ç»ŸæœåŠ¡å™¨å®ç°äº†å¤šé¡¹æ€§èƒ½ä¼˜åŒ–ï¼Œç¡®ä¿é«˜ååé‡å’Œä½å»¶è¿Ÿï¼š\n\n### æ–‡ä»¶æ“ä½œæ€§èƒ½ä¼˜åŒ–\n\n1. **æ–‡ä»¶ç¼“å­˜**\n   - å°å‹æ–‡ä»¶å†…å®¹ç¼“å­˜ï¼Œå‡å°‘é¢‘ç¹IOæ“ä½œ\n   - å¯é…ç½®ç¼“å­˜å¤§å°å’Œè¿‡æœŸæ—¶é—´\n   - æ™ºèƒ½LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰æ¸…ç†ç­–ç•¥\n\n2. **æµå¼å¤„ç†**\n   - å¤§æ–‡ä»¶è‡ªåŠ¨ä½¿ç”¨æµå¤„ç†ï¼Œé™ä½å†…å­˜å ç”¨\n   - å¯é…ç½®æµå¤„ç†çš„æ–‡ä»¶å¤§å°é˜ˆå€¼\n   - æ”¯æŒè¯»å–ã€å†™å…¥ã€è¿½åŠ å’Œå¤åˆ¶æ“ä½œ\n\n3. **å¼‚æ­¥æ“ä½œ**\n   - æ–‡ä»¶å‹ç¼©/è§£å‹é‡‡ç”¨å¼‚æ­¥æµå¼å¤„ç†\n   - æ—¥å¿—è½®è½¬é‡‡ç”¨å¼‚æ­¥å‹ç¼©\n   - å¤§å‹ç›®å½•æ“ä½œé‡‡ç”¨ä¼˜åŒ–çš„ç®—æ³•\n\n### ç›®å½•æ“ä½œæ€§èƒ½ä¼˜åŒ–\n\n1. **ç›®å½•å†…å®¹ç¼“å­˜**\n   - ç¼“å­˜ç›®å½•åˆ—è¡¨ç»“æœï¼Œå‡å°‘é¢‘ç¹è¯»å–\n   - æ™ºèƒ½ç¼“å­˜å¤±æ•ˆæœºåˆ¶ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§\n   - å¯é…ç½®ç¼“å­˜å¤§å°å’Œç”Ÿå‘½å‘¨æœŸ\n\n2. **é€’å½’æ“ä½œä¼˜åŒ–**\n   - ä¼˜åŒ–é€’å½’åˆ—è¡¨å’Œåˆ é™¤æ“ä½œ\n   - å‡å°‘æ–‡ä»¶ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°\n   - å¹³è¡¡å†…å­˜ä½¿ç”¨å’Œæ€§èƒ½\n\n### æ—¥å¿—ç³»ç»Ÿä¼˜åŒ–\n\n1. **æ—¥å¿—ç¼“å†²åŒº**\n   - ä½¿ç”¨å†…å­˜ç¼“å†²åŒºåˆå¹¶å†™å…¥æ“ä½œ\n   - å‡å°‘ç£ç›˜IOæ¬¡æ•°ï¼Œæé«˜æ€§èƒ½\n   - å¯é…ç½®ç¼“å†²åŒºå¤§å°å’Œåˆ·æ–°é—´éš”\n\n2. **æ—¥å¿—è½®è½¬ä¼˜åŒ–**\n   - å¼‚æ­¥å‹ç¼©è½®è½¬æ—¥å¿—æ–‡ä»¶\n   - æ™ºèƒ½æ£€æŸ¥é—´éš”ï¼Œå‡å°‘ä¸å¿…è¦çš„æ–‡ä»¶æ£€æŸ¥\n   - å‹ç¼©é˜Ÿåˆ—å¤„ç†ï¼Œé˜²æ­¢IOé˜»å¡\n\n### æ€§èƒ½é…ç½®ç¤ºä¾‹\n\nåœ¨`defaults.js`ä¸­å¯ä»¥è‡ªå®šä¹‰ä»¥ä¸‹æ€§èƒ½ç›¸å…³é…ç½®ï¼š\n\n```javascript\n// æ–‡ä»¶æ“ä½œé…ç½®\nconst fileOperations = {\n  // æ–‡ä»¶ç¼“å­˜é…ç½®\n  fileCache: {\n    enabled: true,          // æ˜¯å¦å¯ç”¨æ–‡ä»¶ç¼“å­˜\n    maxSize: 100,           // æœ€å¤§ç¼“å­˜æ–‡ä»¶æ•°\n    maxAge: 60000,          // ç¼“å­˜æœ‰æ•ˆæœŸ (ms)\n  },\n  // æµå¤„ç†é˜ˆå€¼ï¼ˆå­—èŠ‚ï¼‰\n  streamThresholds: {\n    read: 10 * 1024 * 1024,  // 10MBä»¥ä¸Šä½¿ç”¨æµè¯»å–\n    write: 5 * 1024 * 1024,  // 5MBä»¥ä¸Šä½¿ç”¨æµå†™å…¥\n    append: 1 * 1024 * 1024, // 1MBä»¥ä¸Šä½¿ç”¨æµè¿½åŠ \n    copy: 10 * 1024 * 1024,  // 10MBä»¥ä¸Šä½¿ç”¨æµå¤åˆ¶\n  },\n  // å‹ç¼©é€‰é¡¹\n  compression: {\n    defaultLevel: 6,         // é»˜è®¤å‹ç¼©çº§åˆ« (1-9)\n    useForLogs: true,        // æ˜¯å¦ä¸ºæ—¥å¿—å¯ç”¨å‹ç¼©\n  }\n};\n\n// æ—¥å¿—é…ç½®\nconst loggerConfig = {\n  // ...åŸºæœ¬é…ç½®...\n  \n  // æ€§èƒ½ä¼˜åŒ–ç›¸å…³\n  useBuffer: true,           // ä½¿ç”¨ç¼“å†²åŒº\n  bufferSize: 64 * 1024,     // ç¼“å†²åŒºå¤§å° (64KB)\n  flushInterval: 1000,       // ç¼“å†²åŒºåˆ·æ–°é—´éš” (ms)\n  asyncCompression: true,    // å¼‚æ­¥å‹ç¼©\n  checkRotationInterval: 60000 // æ—¥å¿—è½®è½¬æ£€æŸ¥é—´éš” (ms)\n};\n```\n\n## ç›‘æ§å™¨ç®¡ç†æ± \n\næ–‡ä»¶ç³»ç»ŸæœåŠ¡å™¨ä½¿ç”¨ç›‘æ§å™¨ç®¡ç†æ± æ¥æ§åˆ¶å’Œç®¡ç†ç³»ç»Ÿä¸­çš„æ–‡ä»¶å’Œç›®å½•ç›‘æ§å™¨æ•°é‡ï¼Œé˜²æ­¢èµ„æºæ³„æ¼ã€‚\n\n### ä¸»è¦åŠŸèƒ½\n\n- **èµ„æºé™åˆ¶æ§åˆ¶**ï¼šé™åˆ¶ç³»ç»Ÿä¸­ç›‘æ§å™¨çš„æ€»æ•°é‡ã€æ¯ä¸ªè·¯å¾„çš„ç›‘æ§å™¨æ•°é‡å’Œæ¯ä¸ªè¿›ç¨‹çš„ç›‘æ§å™¨æ•°é‡\n- **è‡ªåŠ¨èµ„æºå›æ”¶**ï¼šå®šæœŸæ¸…ç†é•¿æ—¶é—´æœªä½¿ç”¨çš„ç›‘æ§å™¨ï¼Œç¡®ä¿ç³»ç»Ÿèµ„æºä¸è¢«æµªè´¹\n- **æ™ºèƒ½èµ„æºç®¡ç†**ï¼šå½“è¾¾åˆ°ç³»ç»Ÿé™åˆ¶æ—¶ï¼Œç§»é™¤æœ€æ—§çš„ç›‘æ§å™¨è…¾å‡ºç©ºé—´\n- **ç»Ÿè®¡å’Œç›‘æ§**ï¼šæä¾›å®Œæ•´çš„ç›‘æ§å™¨ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯\n\n### é…ç½®é€‰é¡¹\n\n```javascript\n// åœ¨ src/config/defaults.js ä¸­é…ç½®\nconst watchPool = {\n  maxWatchers: 200,            // æœ€å¤§ç›‘æ§å™¨æ•°é‡\n  maxPerPath: 5,               // æ¯ä¸ªè·¯å¾„çš„æœ€å¤§ç›‘æ§å™¨æ•°é‡\n  maxPerProcess: 50,           // æ¯ä¸ªè¿›ç¨‹çš„æœ€å¤§ç›‘æ§å™¨æ•°é‡\n  cleanupInterval: 3600000,    // æ¸…ç†é—´éš” (1å°æ—¶)\n  maxIdleTime: 7200000         // æœ€å¤§é—²ç½®æ—¶é—´ (2å°æ—¶)\n};\n```\n\n### ç›‘æ§æ± APIç¤ºä¾‹\n\n```javascript\n// å¯¼å…¥ç›‘æ§å·¥å…·æ¨¡å—\nconst watchTools = require('./src/tools/watch-tools');\n\n// è®¾ç½®æ–‡ä»¶å˜æ›´ç›‘æ§\nconst watcher = watchTools.setFileChangeCallback(\n  '/path/to/file.txt',\n  (event, path) => {\n    console.log(`æ–‡ä»¶ ${path} å‘ç”Ÿäº‹ä»¶: ${event}`);\n  }\n);\n\n// è®¾ç½®ç›®å½•å˜æ›´ç›‘æ§\nconst dirWatcher = watchTools.setDirChangeCallback(\n  '/path/to/directory',\n  (event, path) => {\n    console.log(`ç›®å½•å†…æ–‡ä»¶ ${path} å‘ç”Ÿäº‹ä»¶: ${event}`);\n  },\n  { recursive: true }\n);\n\n// å…³é—­ç›‘æ§å™¨\nwatchTools.closeWatcher(watcher);\n\n// è·å–ç›‘æ§æ± çŠ¶æ€\nconst status = watchTools.getMonitorPoolStatus();\nconsole.log(status);\n```\n\n### æµ‹è¯•ç›‘æ§æ± åŠŸèƒ½\n\n```bash\nnpm run test:monitor\n```\n\næµ‹è¯•è„šæœ¬å°†éªŒè¯ç›‘æ§æ± çš„å…³é”®åŠŸèƒ½ï¼ŒåŒ…æ‹¬èµ„æºé™åˆ¶ã€è‡ªåŠ¨æ¸…ç†å’Œèµ„æºå›æ”¶ã€‚\n\n## è®¸å¯è¯\n\nMIT License "
}