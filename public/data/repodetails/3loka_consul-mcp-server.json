{
  "mcp_name": "3loka/consul-mcp-server",
  "mcp_description": "Facilitates AI-driven analysis and management of Consul service discovery and mesh through natural language interaction.",
  "mcp_id": "3loka_consul-mcp-server",
  "fetch_timestamp": "2025-06-23T00:08:23.914034Z",
  "github_url": "https://github.com/3loka/consul-mcp-server",
  "repository": {
    "name": "consul-mcp-server",
    "full_name": "3loka/consul-mcp-server",
    "description": "Consul MCP Server for Discovery and Mesh",
    "html_url": "https://github.com/3loka/consul-mcp-server",
    "created_at": "2025-04-21T03:17:47Z",
    "updated_at": "2025-04-21T16:37:47Z",
    "pushed_at": "2025-04-21T16:37:43Z",
    "size": 110,
    "stargazers_count": 1,
    "watchers_count": 1,
    "forks_count": 0,
    "open_issues_count": 0,
    "language": "TypeScript",
    "license": null,
    "topics": [],
    "default_branch": "main",
    "owner": {
      "login": "3loka",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/84232154?v=4",
      "html_url": "https://github.com/3loka"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 0,
    "subscribers_count": 2,
    "languages": {
      "TypeScript": 75204,
      "JavaScript": 4915
    },
    "language_percentages": {
      "TypeScript": 93.87,
      "JavaScript": 6.13
    },
    "pull_requests_count": 1,
    "contributors_count": 3,
    "package_json_version": "0.1.2"
  },
  "readme": "# Consul MCP Server\n\nA Model Control Protocol (MCP) server for interacting with HashiCorp Consul service discovery and service mesh. This implementation follows Anthropic's MCP specification and allows Claude to analyze your microservices architecture, create diagrams, identify issues, and provide recommendations through natural language interaction.\n\n## What is Model Control Protocol?\n\n[Model Control Protocol (MCP)](https://modelcontextprotocol.io/introduction) is a specification developed by Anthropic that enables AI models like Claude to interact with external tools and APIs. This implementation connects AI Agents to your Consul infrastructure, allowing you to manage and analyze your services using natural language.\n\n## Features\n\n- List and analyze services registered in Consul\n- Identify and diagnose failing health checks\n- Generate service mesh architecture diagrams\n- Detect service connection issues and provide recommendations\n- Get AI insights on service load balancing and resource utilization\n\n## Requirements\n\n- Node.js 18+\n- npm or yarn\n- A running Consul instance (local or remote)\n- Claude Desktop or Cursor IDE with Claude integration\n\n## Installation\n\n```bash\n# Clone the repository\ngit clone https://github.com/3loka/consul-mcp-server.git\ncd consul-mcp-server\n\n# Install dependencies\nnpm install\n\n# Build the project\nnpm run build\n```\n\n## Configuration\n\nCreate a `.env` file in the root directory with the following variables:\n\n```\nCONSUL_HTTP_ADDR=http://localhost:8500\nCONSUL_HTTP_TOKEN=your-consul-token\nPORT=3000\nUSE_HTTP=true\n```\n\n* `CONSUL_HTTP_ADDR`: Address of your Consul server\n* `CONSUL_HTTP_TOKEN`: ACL token of your Consul server\n* `PORT`: Port for the HTTP server\n* `USE_HTTP`: Set to \"true\" for HTTP mode, omit for stdio mode\n\n## Installation\n\n### Installing in Cursor\n\nTo install and use this MCP server in [Cursor](https://cursor.sh/):\n\n1. In Cursor, open Settings (⌘+,) and navigate to the \"MCP\" tab.\n   \n2. Click \"+ Add new MCP server.\"\n   \n3. Enter the following:\n   - Name: consul-assistant\n   - Type: command\n   - Command: npx -y consul-mcp-server\n   \n4. Click \"Add\" then scroll to the server and click \"Disabled\" to enable the server.\n\n5. Restart Cursor, if needed, to ensure the MCP server is properly loaded.\n\n### Installing in Claude Desktop\n\nTo install and use this MCP server in Claude Desktop:\n\n1. In Claude Desktop, open Settings (⌘+,) and navigate to the \"Developer\" tab.\n\n2. Click \"Edit Config\" at the bottom of the window.\n\n3. Edit the file (`~/Library/Application Support/Claude/claude_desktop_config.json`) to add the following code, then Save the file.\n\n```json\n{\n  \"mcpServers\": {\n    \"consul-assistant\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"consul-mcp-server\"]\n    }\n  }\n}\n```\n\nif the server is not local host or ACL is enabled, use below configuration instead\n```json\n{\n    \"mcpServers\": {\n      \"consul-assistant\": {\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"consul-mcp-server\"],\n        \"env\": {\n          \"CONSUL_HTTP_ADDR\": \"http://<host/ip>:8500\",\n          \"CONSUL_HTTP_TOKEN\": \"<ACL Token>\"\n        }\n      }\n    }\n  }\n```\n\n4. Restart Claude Desktop to ensure the MCP server is properly loaded.\n\n## Example Prompts\n\nOnce connected, try these prompts with Claude:\n\n- \"Show me all services registered in Consul\"\n- \"Which services have failing health checks?\"\n- \"Create a diagram of my service mesh connections\"\n- \"Analyze which services are having connectivity issues\"\n- \"What's the overall health of my microservices architecture?\"\n- \"Show me services with high error rates in their connections\"\n\n## Available MCP Actions\n\nThis server implements the following MCP actions:\n| Action                          | Description                                             |\n|--------------------------------|---------------------------------------------------------|\n| `consul/get_services`          | Get a list of all services in Consul                   |\n| `consul/get_health_checks`     | Get health checks, optionally filtering for failing checks |\n| `consul/get_service_connections` | Get service connections and their status               |\n| `consul/create_service_diagram` | Create a Mermaid diagram of service relationships      |\n| `consul/analyze_service`       | Analyze a specific service to identify issues          |\n| `consul/get_service_metrics`   | Get detailed metrics for a specific service            |\n\n## Running a Demo Environment\n\nFor testing purposes, you can set up a local demo environment with multiple microservices registered in Consul:\n\n```bash\n# Run the setup script (requires Docker and Docker Compose)\nchmod +x ./demo/setup-demo.sh\n./demo/setup-demo.sh\n```\n\nThis will start:\n- A Consul server\n- Several demo microservices\n- Register the services in Consul\n- Set up some service mesh connections and health checks\n\n## Demo Walkthrough\n\n1. Start the demo environment:\n   ```bash\n   ./scripts/setup-demo.sh\n   ```\n\n2. Start the MCP server:\n   ```bash\n   npm start\n   ```\n\n3. Connect Claude Desktop or Cursor to your MCP server\n\n4. Try these demo scenarios:\n\n   a. Get a service overview:\n   ```\n   Show me all the services registered in my Consul instance.\n   ```\n\n   b. Check for failing health checks:\n   ```\n   Are any services experiencing health issues? What might be causing them?\n   ```\n\n   c. Create a service mesh diagram:\n   ```\n   Create a diagram showing the connections between my services.\n   ```\n\n   d. Analyze connection issues:\n   ```\n   Which services are having trouble connecting to each other?\n   ```\n\n   e. Get recommendations:\n   ```\n   Based on my service mesh setup, what improvements would you recommend?\n   ```\n\n## Development\n\n### Project Structure\n\n- `src/index.ts`: Main entry point\n- `src/resources/`: Consul API interaction code\n- `src/tools/`: Helper functionality like diagram generation\n- `src/server/`: MCP server components\n- `src/mcp/`: MCP action definitions and handlers\n- `src/prompts/`: Template management for AI interactions\n- `src/tests/`: Test suites\n\n### Running Tests\n\n```bash\nnpm test\n```\n\n### Building\n\n```bash\nnpm run build\n```\n\n## Contributing\n\nContributions are welcome! Please feel free to submit a pull request.\n\n## License\n\nMIT"
}