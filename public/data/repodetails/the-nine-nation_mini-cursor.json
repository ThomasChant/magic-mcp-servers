{
  "mcp_name": "the-nine-nation/mini-cursor",
  "mcp_description": "A lightweight command-line tool enabling Cursor-like programming with AI agents, supporting multi-tool MCP invocation and integration with various LLMs.",
  "mcp_id": "the-nine-nation_mini-cursor",
  "fetch_timestamp": "2025-06-23T08:52:15.932915Z",
  "github_url": "https://github.com/the-nine-nation/mini-cursor",
  "repository": {
    "name": "mini-cursor",
    "full_name": "the-nine-nation/mini-cursor",
    "description": "a super lightweight command-line project for Cursor-like programming, for everyone to learn and use.",
    "html_url": "https://github.com/the-nine-nation/mini-cursor",
    "created_at": "2025-04-15T07:29:17Z",
    "updated_at": "2025-05-14T03:17:57Z",
    "pushed_at": "2025-05-14T03:17:53Z",
    "size": 306,
    "stargazers_count": 5,
    "watchers_count": 5,
    "forks_count": 0,
    "open_issues_count": 0,
    "language": "Python",
    "license": "MIT License",
    "topics": [],
    "default_branch": "main",
    "owner": {
      "login": "the-nine-nation",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/103977945?v=4",
      "html_url": "https://github.com/the-nine-nation"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 0,
    "subscribers_count": 0,
    "languages": {
      "Python": 163919,
      "JavaScript": 160368,
      "CSS": 36882,
      "HTML": 25044
    },
    "language_percentages": {
      "Python": 42.44,
      "JavaScript": 41.52,
      "CSS": 9.55,
      "HTML": 6.48
    },
    "pull_requests_count": 0,
    "contributors_count": 1
  },
  "readme": "[English](README.md) | [中文说明 (Chinese)](README_zh.md)\n\n# mini-cursor\n\nCursor costs $20 per month, which is a week's worth of food for many people. Its closed-source nature has been a pain for the community for too long!\n\nTherefore, we open-sourced a super lightweight command-line project for Cursor-like programming, for everyone to learn and use. You can use mini-cursor in any directory to write programs using AI agents with this directory as the workspace!\n\nThis project supports fully local/intranet deployment with no possibility of data leakage to external parties. You can use external APIs or local vllm/ollama services that are compatible with the OpenAI API.\n\n## Update\n\n**2025-05-14**: After persistent efforts over a period of time, various display issues have finally been resolved.\n\n**2025-04-28**: MCP services for MySQL and ClickHouse will no longer be included as default MCP services.\n- MySQL MCP repository: [mysql-mcp](https://github.com/the-nine-nation/mysql-mcp)\n- ClickHouse MCP repository: [clickhouse-mcp](https://github.com/the-nine-nation/clickhouse-mcp)\n\n**20250422**: Added web interface that can be launched directly from the CLI with `mini-cursor web`.\n\n**20250421**: Added support for inference models like deepseek-r1.\n\n**20250418**: You can use this project to collect high-quality tool call data, or use the MCP services prepared by this project that are essentially identical to Cursor's (except for a code retrieval MCP, which I found to be not very effective in personal use). Additionally, this project adds web search and secure connections to SQL and ClickHouse databases. After testing, it was found that many models may have dangerous operations, so all database-related operations are restricted to read-only.\n\n## Features\n\n- Nearly 1:1 reimplementation of Cursor's MCP and Prompt, supports using these MCP services in other VSCode plugins.\n- Supports local/remote multi-tool (MCP) invocation\n- Supports OpenAI API, allows using local models, ensuring data security.\n- **Selective tool enablement**: Choose which tools to use for each session\n- Interactive parameter and server configuration\n- One-click pip install, globally available CLI\n- Great for secondary development and custom extensions\n\n---\n\n## Installation\n\n\n###  Source install (for developers/customization)\n\n```bash\nconda create -n mini-cursor python=3.10\nconda activate mini-cursor\ngit clone https://github.com/the-nine-nation/mini-cursor.git\ncd mini_cursor\npip install .\n```\n\n---\n\n## Usage\n\n### 1. Initialize MCP Config (Highly Recommended, Do This First)\n\n```bash\nmini-cursor init\n```\nThis command will automatically generate `mini_cursor/core/mcp_config.json` with the correct Python and MCP script paths, but some parameters need to be filled in manually.\nThe command line will show the location of the generated JSON file. If you want to use it with other programs, you can copy the JSON content.\n\n> **Note:** If you want to use the web search tool, after generation, be sure to use `mini-cursor mcp-config` or directly edit `mcp_config.json` to fill in your `BOCHAAI_API_KEY`.\n\n#### Usage Method 1: Use MCP Server Directly\n\n**Example mcp_config.json snippet:**\n```json\n{\n  \"mcpServers\": {\n    \"cursor_mcp\": {\n        \"command\": sys.executable,\n        \"args\": [cursor_mcp_py],\n        \"env\": {\n            \"BOCHAAI_API_KEY\": \"API key from https://open.bochaai.com/ to enable web search for the model\"\n        }\n    }\n  }\n}\n```\nIf you want the agent to perform automatic web search, you can go to [BochaAI](https://open.bochaai.com/) to obtain the corresponding api_key to support retrieval.\n\n### 2. Configure API Key (Required, Recommended)\n\n```bash\nmini-cursor config\n```\nFollow the prompts to enter your OpenAI-compatible API Key, Base URL, model name, etc. The config will be saved to `.env`.\n\n### 3. Interactively Edit MCP Servers (Comes with all Cursor MCPs and web search by default, no need to modify)\n\n```bash\nmini-cursor mcp-config\n```\nInteractively add/edit/delete MCP servers. The config is saved to `mini_cursor/core/mcp_config.json`.\nYou can also copy this config and use it in Cursor, etc.\n\n### 4. Start Chat Agent\n\n```bash\nmini-cursor chat\n```\n- Supports natural language Q&A, code generation, tool invocation, etc.\n- Type `help` at any time during chat for available commands.\n\n### 5. Launch Web Interface\n\n```bash\nmini-cursor web\n```\nThis command starts the web server and automatically opens your default browser to access the web interface. The web interface provides a more visual and user-friendly way to interact with mini-cursor:\n\n- Full chat capabilities with streaming responses\n- Visual tool call display\n- Configuration management\n- Conversation history viewing\n\nYou can press Ctrl+C in the terminal to stop the web server when you're done.\n\n---\n\n## Common Commands\n\n| Command                      | Description                        |\n|------------------------------|------------------------------------|\n| `mini-cursor init`       | Initialize MCP config (recommended) |\n| `mini-cursor config`     | Interactive API param config (.env) |\n| `mini-cursor mcp-config` | Interactive MCP config editor       |\n| `mini-cursor chat`       | Start chat agent                   |\n| `mini-cursor web`        | Launch the web interface           |\n| `mini-cursor help`       | Show help                          |\n\n**In chat mode, you can use:**\n- `history`             View tool call history\n- `message history`     View message history\n- `clear history`       Clear message history\n- `servers`             View available MCP servers\n- `config`              Edit API params\n- `mcp-config`          Edit MCP config\n- `help`                Show help\n- `quit`                Exit chat\n\n**Tool management commands:**\n- `enable <tool>`       Enable a specific tool\n- `disable <tool>`      Disable a specific tool\n- `enable-all`          Enable all tools\n- `disable-all`         Disable all tools\n- `mode <all|selective>` Set the tool enablement mode\n\n---\n\n## Project Structure\n\nThe project has been modularized to improve code readability and maintainability. Here's the core architecture:\n\n### Core Components\n\n- **`mcp_client.py`**: Main client class that integrates all modules and serves as the entry point\n- **`message_manager.py`**: Manages conversation history, including user/system/assistant messages\n- **`tool_manager.py`**: Handles tool discovery, tool calls, and maintains tool call history\n- **`server_manager.py`**: Manages MCP server connections and configurations\n- **`display_utils.py`**: Utility functions for displaying tool histories, servers, and message histories\n- **`config.py`**: Central configuration management for API keys, URLs, and other settings\n\n### Module Functionality\n\n#### MCPClient (mcp_client.py)\nThe main client class that coordinates interactions between the LLM, MCP servers, and user. It:\n- Manages the chat loop and conversation flow\n- Processes user queries through the LLM\n- Handles streaming responses\n- Orchestrates tool calls based on LLM decisions\n\n#### MessageManager (message_manager.py)\nResponsible for all aspects of message history management:\n- Adding user messages and system prompts\n- Tracking assistant responses\n- Recording tool calls and their results\n- Trimming conversation history to prevent context overflow\n- Providing clean history retrieval\n\n#### ToolManager (tool_manager.py)\nManages all tool-related functionality:\n- Discovers and catalogs available tools from all MCP servers\n- Finds the appropriate server for each tool\n- Executes tool calls with timeout handling\n- Maintains detailed tool call history\n- Formats tool parameters for API calls\n- **Manages tool enablement/disablement** for selective tool usage\n\n#### ServerManager (server_manager.py)\nHandles connection and communication with MCP servers:\n- Loads server configurations from config files\n- Establishes connections to specified servers\n- Initializes sessions with each server\n- Manages server resources and cleanup\n\n#### DisplayUtils (display_utils.py) \nProvides user-friendly display functions:\n- Formatted output for tool call history\n- Server and tool listings\n- Message history visualization\n\n---\n\n## Development Guide\n\n### Adding New Tools\n\nTo add new tools to the MCP system:\n\n1. Define the tool in `cursor_mcp_all.py` or create a new MCP server\n2. Register the tool with a unique name and schema\n3. Configure the server in `mcp_config.json`\n\n### Extending the Client\n\nThe modular architecture makes it easy to extend functionality:\n\n1. For UI changes: modify `display_utils.py`\n2. For new message handling: extend `message_manager.py`\n3. For enhanced tool capabilities: update `tool_manager.py`\n4. For additional server types: modify `server_manager.py`\n\n### Custom Prompts\n\nTo customize the system prompt:\n1. Modify the prompt in `cli.py` before passing to `process_query`\n2. Use different prompts for different functionalities or tools\n\n---\n\n## Shell Autocompletion\n\nmini-cursor supports command autocompletion (bash/zsh/fish).\n\nGenerate and load the completion script:\n\n### Zsh\n```sh\neval \"$(mini-cursor completion zsh)\"\n```\n\n### Bash\n```sh\neval \"$(mini-cursor completion bash)\"\n```\n\n### Fish\n```sh\neval (mini-cursor completion fish)\n```\n\nYou can also output the completion script to the corresponding config file for permanent autocompletion.\n\n---\n\n## Advanced Usage\n\n- **Support for multiple LLMs:** Just change `OPENAI_MODEL` and `OPENAI_BASE_URL` in `.env`.\n- **Custom tools/servers:** Use `mini-cursor mcp-config` to add local or remote Python services.\n- **Tool extension:** Supports file read/write, code editing, terminal commands, web search, etc. See `mini_cursor/core/tool_specs.json` for details.\n- **Selective tool usage:** Control which tools are enabled using `enable <tool>`, `disable <tool>`, or set the mode with `mode <all|selective>`. This allows for more controlled, secure, and focused tool usage.\n\n---\n\n## FAQ\n\n- **Command not found after pip install?**\n  - Make sure Python's bin directory is in your PATH, or restart your terminal.\n- **API Key leak risk?**\n  - Only configure your API Key in the local `.env` file. Do not upload it to public repos.\n- **How to switch workspace?**\n  - Change to your target directory before running `mini-cursor chat`. The workspace is the current directory.\n\n---\n\n## Contribution & Development\n\nPRs, issues, and secondary development are welcome!\nFor custom prompts, tools, MCP services, see code comments and `mini_cursor/prompt.py`.\n\n---\n\n## License\n\nMIT\n\n## Fast API Backend\n\nMini-Cursor now includes a FastAPI backend with SSE streaming support. This provides a web API for chat functionality.\n\n### Installation\n\nInstall the required dependencies:\n\n```bash\npip install -r requirements.txt\n```\n\n### Running the API Server\n\nTo start the FastAPI server:\n\n```bash\npython -m mini_cursor.main_api\n```\n\nBy default, the server will run on `http://0.0.0.0:8000`. You can customize the host and port by setting the `HOST` and `PORT` environment variables.\n\n### API Endpoints\n\n#### GET /\n\nReturns basic information about the API.\n\n#### POST /chat\n\nEndpoint for chat functionality with SSE streaming. Accepts a JSON payload with:\n\n- `query` (required): The message to send to the AI\n- `system_prompt` (optional): Custom system prompt\n- `workspace` (optional): Workspace path\n\nExample request:\n\n```bash\ncurl -X POST \"http://localhost:8000/chat\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"query\": \"What can you do?\"}'\n```\n\nThis endpoint returns Server-Sent Events (SSE) with the following event types:\n\n- `start`: Indicates the start of processing\n- `message`: AI assistant's text responses\n- `thinking`: Reasoning process from models that support it\n- `tool_call`: Information about tool calls being made\n- `tool_result`: Results of tool calls\n- `tool_error`: Errors that occur during tool calls\n- `done`: Indicates the completion of processing\n- `error`: Any errors that occur during processing\n"
}