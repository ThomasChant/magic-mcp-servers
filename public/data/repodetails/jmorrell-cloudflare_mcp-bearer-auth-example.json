{
  "mcp_name": "jmorrell-cloudflare/mcp-bearer-auth-example",
  "mcp_description": "A remote MCP server implementation on Cloudflare utilizing Bearer Token authentication for secure connections.",
  "mcp_id": "jmorrell-cloudflare_mcp-bearer-auth-example",
  "fetch_timestamp": "2025-06-23T05:28:41.433769Z",
  "github_url": "https://github.com/jmorrell-cloudflare/mcp-bearer-auth-example",
  "repository": {
    "name": "mcp-bearer-auth-example",
    "full_name": "jmorrell-cloudflare/mcp-bearer-auth-example",
    "description": null,
    "html_url": "https://github.com/jmorrell-cloudflare/mcp-bearer-auth-example",
    "created_at": "2025-04-11T18:23:13Z",
    "updated_at": "2025-04-11T18:36:38Z",
    "pushed_at": "2025-04-11T18:36:34Z",
    "size": 1997,
    "stargazers_count": 0,
    "watchers_count": 0,
    "forks_count": 1,
    "open_issues_count": 1,
    "language": "TypeScript",
    "license": null,
    "topics": [],
    "default_branch": "main",
    "owner": {
      "login": "jmorrell-cloudflare",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/195494421?v=4",
      "html_url": "https://github.com/jmorrell-cloudflare"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 1,
    "subscribers_count": 1,
    "languages": {
      "TypeScript": 20237
    },
    "language_percentages": {
      "TypeScript": 100
    },
    "pull_requests_count": 1,
    "contributors_count": 1,
    "package_json_version": "0.0.0"
  },
  "readme": "# Remote MCP Server on Cloudflare with Bearer Auth\n\nThis is a fork of https://github.com/cloudflare/ai/tree/main/demos/remote-mcp-server that removes the OAuth code and instead allows a Bearer Token to be passed in with the Authorization HTTP header.\n\nIn the MCP Inspector you can pass a Bearer Token like this:\n\n<img width=\"375\" alt=\"Monosnap MCP Inspector 2025-04-11 11-31-37\" src=\"https://github.com/user-attachments/assets/e8776926-d9ee-47dd-87e6-b5c52baeca63\" />\n\n## Develop locally\n\n```bash\n# clone the repository\ngit clone git@github.com:cloudflare/ai.git\n\n# install dependencies\ncd ai\nnpm install\n\n# run locally\nnpx nx dev remote-mcp-server\n```\n\nYou should be able to open [`http://localhost:8787/`](http://localhost:8787/) in your browser\n\n## Connect the MCP inspector to your server\n\nTo explore your new MCP api, you can use the [MCP Inspector](https://modelcontextprotocol.io/docs/tools/inspector).\n\n- Start it with `npx @modelcontextprotocol/inspector`\n- [Within the inspector](http://localhost:5173), switch the Transport Type to `SSE` and enter `http://localhost:8787/sse` as the URL of the MCP server to connect to\n- Under \"Authentication\" add your Bearer Token\n- click \"Connect\"\n\n## Connect Claude Desktop to your local MCP server\n\nThe MCP inspector is great, but we really want to connect this to Claude! Follow [Anthropic's Quickstart](https://modelcontextprotocol.io/quickstart/user) and within Claude Desktop go to Settings > Developer > Edit Config to find your configuration file.\n\nOpen the file in your text editor and replace it with this configuration:\n\n```json\n{\n  \"mcpServers\": {\n    \"remote-example\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"mcp-remote\",\n        \"[https://remote.mcp.server/sse](http://localhost:8787/sse)\",\n        \"--header\",\n        \"Authorization: Bearer ${AUTH_TOKEN}\"\n      ]\n    },\n    \"env\": {\n      \"AUTH_TOKEN\": \"...\"\n    }\n  }\n}\n```\n\nThis will run a local proxy and let Claude talk to your MCP server over HTTP\n\nWhen you open Claude a browser window should open and allow you to login. You should see the tools available in the bottom right. Given the right prompt Claude should ask to call the tool.\n\n<div align=\"center\">\n  <img src=\"img/available-tools.png\" alt=\"Clicking on the hammer icon shows a list of available tools\" width=\"600\"/>\n</div>\n\n<div align=\"center\">\n  <img src=\"img/claude-does-math-the-fancy-way.png\" alt=\"Claude answers the prompt 'I seem to have lost my calculator and have run out of fingers. Could you use the math tool to add 23 and 19?' by invoking the MCP add tool\" width=\"600\"/>\n</div>\n\n## Deploy to Cloudflare\n\n1. `npx wrangler kv namespace create OAUTH_KV`\n2. Follow the guidance to add the kv namespace ID to `wrangler.jsonc`\n3. `npm run deploy`\n\n## Call your newly deployed remote MCP server from a remote MCP client\n\nJust like you did above in \"Develop locally\", run the MCP inspector:\n\n`npx @modelcontextprotocol/inspector@latest`\n\nThen enter the `workers.dev` URL (ex: `worker-name.account-name.workers.dev/sse`) of your Worker in the inspector as the URL of the MCP server to connect to, and click \"Connect\".\n\nYou've now connected to your MCP server from a remote MCP client.\n\n## Connect Claude Desktop to your remote MCP server\n\nUpdate the Claude configuration file to point to your `workers.dev` URL (ex: `worker-name.account-name.workers.dev/sse`) and restart Claude \n\n```json\n{\n  \"mcpServers\": {\n    \"remote-example\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"mcp-remote\",\n        \"[https://remote.mcp.server/sse](http://localhost:8787/sse)\",\n        \"--header\",\n        \"Authorization: Bearer ${AUTH_TOKEN}\"\n      ]\n    },\n    \"env\": {\n      \"AUTH_TOKEN\": \"...\"\n    }\n  }\n}\n```\n\n## Debugging\n\nShould anything go wrong it can be helpful to restart Claude, or to try connecting directly to your\nMCP server on the command line with the following command.\n\n```bash\nnpx mcp-remote http://localhost:8787/sse\n```\n\nIn some rare cases it may help to clear the files added to `~/.mcp-auth`\n\n```bash\nrm -rf ~/.mcp-auth\n```\n"
}