{
  "mcp_name": "zjf2671/hh-mcp-comfyui",
  "mcp_description": "Facilitates image generation through natural language commands by interfacing with a local ComfyUI instance via the MCP protocol.",
  "mcp_id": "zjf2671_hh-mcp-comfyui",
  "fetch_timestamp": "2025-06-23T09:49:13.451651Z",
  "github_url": "https://github.com/zjf2671/hh-mcp-comfyui",
  "repository": {
    "name": "hh-mcp-comfyui",
    "full_name": "zjf2671/hh-mcp-comfyui",
    "description": "åŸºäºModel Context Protocol (MCP)çš„ComfyUIå›¾åƒç”ŸæˆæœåŠ¡ï¼Œé€šè¿‡APIè°ƒç”¨æœ¬åœ°ComfyUIå®ä¾‹ç”Ÿæˆå›¾ç‰‡,å®ç°è‡ªç„¶è¯­è¨€ç”Ÿå›¾è‡ªç”±",
    "html_url": "https://github.com/zjf2671/hh-mcp-comfyui",
    "created_at": "2025-04-20T08:38:18Z",
    "updated_at": "2025-06-17T08:34:23Z",
    "pushed_at": "2025-05-20T04:12:13Z",
    "size": 1230,
    "stargazers_count": 8,
    "watchers_count": 8,
    "forks_count": 2,
    "open_issues_count": 1,
    "language": "Python",
    "license": "MIT License",
    "topics": [],
    "default_branch": "main",
    "owner": {
      "login": "zjf2671",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/25733810?v=4",
      "html_url": "https://github.com/zjf2671"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 2,
    "subscribers_count": 1,
    "languages": {
      "Python": 42657,
      "Dockerfile": 1320
    },
    "language_percentages": {
      "Python": 97,
      "Dockerfile": 3
    },
    "pull_requests_count": 1,
    "contributors_count": 3
  },
  "readme": "# ComfyUI MCP æœåŠ¡\n\n[![English](https://img.shields.io/badge/English-Click-yellow)](docs/README.EN.md)\n[![ç®€ä½“ä¸­æ–‡](https://img.shields.io/badge/ç®€ä½“ä¸­æ–‡-ç‚¹å‡»æŸ¥çœ‹-orange)](README.md)\n![Python 3.12+](https://img.shields.io/badge/python-3.12+-blue.svg)\n[![License](https://img.shields.io/badge/license-MIT-green.svg)](LiCENSE)\n[![smithery badge](https://smithery.ai/badge/@zjf2671/hh-mcp-comfyui)](https://smithery.ai/server/@zjf2671/hh-mcp-comfyui)\n\nè¿™æ˜¯ä¸€ä¸ªåŸºäºModel Context Protocol (MCP)çš„ComfyUIå›¾åƒç”ŸæˆæœåŠ¡ï¼Œé€šè¿‡APIè°ƒç”¨æœ¬åœ°ComfyUIå®ä¾‹ç”Ÿæˆå›¾ç‰‡ã€‚\n\n## åŠŸèƒ½ç‰¹æ€§\n\n- é€šè¿‡MCPåè®®æä¾›å›¾åƒç”ŸæˆæœåŠ¡ï¼Œå®ç°è‡ªç„¶è¯­è¨€ç”Ÿå›¾è‡ªç”±\n- æ”¯æŒåŠ¨æ€æ›¿æ¢å·¥ä½œæµä¸­çš„æç¤ºè¯å’Œå°ºå¯¸ç­‰å‚æ•°\n- è‡ªåŠ¨åŠ è½½workflowsç›®å½•ä¸‹çš„å·¥ä½œæµæ–‡ä»¶ä½œä¸ºèµ„æº\n\n## æ–°å¢åŠŸèƒ½è®°å½•\n- [2025-05-11] æ”¯æŒå·¥ä½œæµæ–‡ä»¶ç›®å½•åŠ¨æ€é…ç½®\n- [2025-05-09] å¢åŠ dockeræ„å»ºæ–¹å¼,æ”¯æŒPython 3.12+\n- [2025-05-07] å¢åŠ pipæ„å»ºæ–¹å¼\n- [2025-05-06] æŠŠé¡¹ç›®ç›®å½•src/hhä¿®æ”¹æˆsrc/hh_mcp_comfyui,å¢åŠ uvxæ„å»ºæ–¹å¼\n- [2025-04-26] å¢åŠ å›¾ç”Ÿå›¾å’Œç§»é™¤èƒŒæ™¯æ ·ä¾‹å·¥ä½œæµåŠæ”¯æŒå›¾ç”Ÿå›¾å·¥å…·\n- [2025-04-20] åŠ å…¥æ–‡ç”Ÿå›¾ç”Ÿæˆå·¥å…·\n \n## æ•ˆæœ\n\n- **Cherry Studioä¸­ä½¿ç”¨æ•ˆæœ**\n![alt text](images/image.png)\n\n- **Clineä¸­ä½¿ç”¨æ•ˆæœ**\n![alt text](images/cline_gen_image.png)\n![alt text](images/ComfyUI_00020_.png)\n\n## å®‰è£…ä¾èµ–\n\n**1. ç¡®ä¿å·²å®‰è£…Python 3.12+**\n\n**2. ä½¿ç”¨uvç®¡ç†Pythonç¯å¢ƒï¼š**\n- å®‰è£…uv:\n  ```bash\n  # On macOS and Linux.\n  $ curl -LsSf https://astral.sh/uv/install.sh | sh\n\n  # On Windows.\n  $ powershell -ExecutionPolicy ByPass -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n\n  # æ›´æ–°uv(éå¿…è¦æ“ä½œ):\n  $ uv self update\n  ```\n\n## æµ‹è¯•è¿è¡ŒæœåŠ¡\n\n- **uvxæ–¹å¼**\n  ```bash\n  $ uvx hh-mcp-comfyui\n\n  INFO:hh_mcp_comfyui.server:Scanning for workflows in: C:\\Users\\tianw\\AppData\\Local\\uv\\cache\\archive-v0\\dp4MTo0f1qL0DdYF_BYCL\\Lib\\site-packages\\hh_mcp_comfyui\\workflows\n  INFO:hh_mcp_comfyui.server:Starting ComfyUI MCP Server...\n  ```\n- **pipæ–¹å¼**\n  ```bash\n  $ pip install hh_mcp_comfyui\n  \n  $ python -m hh_mcp_comfyui\n\n  INFO:hh_mcp_comfyui.server:Scanning for workflows in: F:\\Python\\Python313\\Lib\\site-packages\\hh_mcp_comfyui\\workflows\n  INFO:hh_mcp_comfyui.server:Starting ComfyUI MCP Server...\n  ```\n**å‡ºç°ä¸Šé¢çš„ä¿¡æ¯è¡¨ç¤ºæœåŠ¡å¯åŠ¨æˆåŠŸ**\n\n## ä½¿ç”¨æ–¹æ³•\n> **å¿…é¡»ç¡®ä¿æœ¬åœ°ComfyUIå®ä¾‹æ­£åœ¨è¿è¡Œ(é»˜è®¤åœ°å€: http://127.0.0.1:8188) [ComfyUIå®‰è£…åœ°å€](https://github.com/comfyanonymous/ComfyUI.git)**\n\n### Cherry Studioã€Clineã€Cursorç­‰å®¢æˆ·ç«¯çš„ä½¿ç”¨æ–¹å¼\n\n<details>\n  <summary>uvx MCPæœåŠ¡é…ç½®</summary>\n\n  ```bash\n  {\n    \"mcpServers\": {\n      \"hh-mcp-comfyui\": {\n        \"command\": \"uvx\",\n        \"args\": [\n          \"hh-mcp-comfyui\"\n        ],\n        \"env\": {\n          \"COMFYUI_API_BASE\": \"http://127.0.0.1:8188\",\n          \"COMFYUI_WORKFLOWS_DIR\": \"/path/hh-mcp-comfyui/workflows\"\n        }\n      }\n    }\n  }\n  ```\n  </details>\n\n<details>\n  <summary>pip MCPæœåŠ¡é…ç½®</summary>\n\n  **éœ€è¦å…ˆæ‰§è¡Œå‘½ä»¤çª—å£å…ˆæ‰§è¡Œï¼špip install hh_mcp_comfyui**\n\n  ```bash\n  {\n    \"mcpServers\": {\n      \"hh-mcp-comfyui\": {\n        \"command\": \"python\",\n        \"args\": [\n          \"-m\",\n          \"hh_mcp_comfyui\"\n        ],\n        \"env\": {\n          \"COMFYUI_API_BASE\": \"http://127.0.0.1:8188\",\n          \"COMFYUI_WORKFLOWS_DIR\": \"/path/hh-mcp-comfyui/workflows\"\n        }\n      }\n    }\n  }\n  ```\n</details>\n\n<details>\n  <summary>docker MCPæœåŠ¡é…ç½®</summary>\n\n  **å‰ææ˜¯å·²å®‰è£…docker**\n\n  ```bash\n  {\n    \"mcpServers\": {\n      \"hh-mcp-comfyui\": {\n        \"command\": \"docker\",\n        \"args\": [\n            \"run\",\n            \"--net=host\",\n            \"-v\",\n            \"/path/hh-mcp-comfyui/workflows:/app/workflows\",\n            \"-i\",\n            \"--rm\",\n            \"zjf2671/hh-mcp-comfyui\"\n        ],\n        \"env\": {\n          \"COMFYUI_API_BASE\": \"http://127.0.0.1:8188\"\n        }\n      }\n    }\n  }\n  ```\n</details>\n\n## æ ·ä¾‹å·¥ä½œæµcopyåˆ°æŒ‡å®šå·¥ä½œæµç›®å½•ï¼š\n\n  ï¼ˆ**æ³¨æ„**ï¼šä½¿ç”¨ä¸‹é¢uvxæˆ–pipæ–¹å¼æ‰¾åˆ°ä½ çš„å®‰è£…å·¥ä½œæµç›®å½•çš„ä½ç½®æŠŠæ ·ä¾‹å·¥ä½œæµæ·»åŠ è¿›å»ï¼Œç„¶åé‡å¯ä½ çš„MCPæœåŠ¡ï¼‰\n- **uvx**\n  ```bash\n  $ uvx hh-mcp-comfyui\n  ```\n  ![alt text](images/image-2.png)\n- **pip**\n  \n   ```bash\n  #é¦–å…ˆå®‰è£…ä¾èµ–\n  $ pip install hh_mcp_comfyui\n  $ python -m hh_mcp_comfyui\n  ```\n  ![alt text](images/image-3.png)\n\n## æµ‹è¯•\n\n> **ä½¿ç”¨MCP Inspectoræµ‹è¯•æœåŠ¡ç«¯å·¥å…·**\n\n- **uvxæ–¹å¼**\n  ```bash\n  $ npx @modelcontextprotocol/inspector uvx hh-mcp-comfyui\n  ``` \n- **pipæ–¹å¼**\n  ```bash\n  $ pip install hh_mcp_comfyui\n  $ npx @modelcontextprotocol/inspector python -m hh_mcp_comfyui\n  ``` \n - **dockeræ–¹å¼**\n    ```bash\n    $ npx @modelcontextprotocol/inspector docker run --net=host -i --rm zjf2671/hh-mcp-comfyui\n    ``` \nç„¶åç‚¹å‡»è¿æ¥å¦‚å›¾å³å¯è°ƒè¯•ï¼š\n![alt text](images/image-1.png)\n\n## ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼ˆé’ˆå¯¹æ²¡æœ‰ç”¨è¿‡comfyuiçš„ç‰¹åˆ«æ³¨æ„ï¼‰\n\n- é»˜è®¤å·¥ä½œæµä¸º`t2image_bizyair_flux`\n- å›¾ç‰‡å°ºå¯¸é»˜è®¤ä¸º1024x1024\n- æœåŠ¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åŠ è½½workflowsç›®å½•ä¸‹çš„æ‰€æœ‰JSONå·¥ä½œæµæ–‡ä»¶\n- å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æœ¬é¡¹ç›®ä¸­çš„**æ ·ä¾‹å·¥ä½œæµ**éœ€è¦åœ¨comfyuiä¸­ä¸‹è½½ä¸ªæ’ä»¶ï¼Œè¯¦ç»†æ“ä½œè¯·æŸ¥çœ‹ï¼š[æ ·ä¾‹å·¥ä½œæµæ’ä»¶å®‰è£…æ•™ç¨‹](https://ziitefe2yxn.feishu.cn/wiki/PlSmwBbBWiA0iDkc07scb4EEnHc)\n- å¦‚æœä½¿ç”¨ä½ æœ¬åœ°çš„comfyuiå·¥ä½œæµçš„è¯ï¼Œå…ˆè¦ä¿è¯ä½ çš„å·¥ä½œæµèƒ½åœ¨comfyuiæ­£å¸¸è¿è¡Œï¼Œç„¶åéœ€è¦å¯¼å‡º(API)çš„JSONæ ¼å¼ï¼Œå¹¶æ”¾å…¥åˆ°ä½ æœ¬åœ°çš„`/path/hh_mcp_comfyui/workflows`ç›®å½•ä¸­\n\n## æ·»åŠ æ–°å·¥ä½œæµ\n\n1. å°†å·¥ä½œæµJSONæ–‡ä»¶æ”¾å…¥`/path/hh_mcp_comfyui/workflows`ç›®å½•ä¸­\n  \n    å¦‚æœæ˜¯uvxå’Œpipå¯åŠ¨æ–¹å¼è¯·çœ‹ä¸Šé¢ ã€Š**æ ·ä¾‹å·¥ä½œæµcopyåˆ°æŒ‡å®šå·¥ä½œæµç›®å½•**ã€‹ çš„ä½¿ç”¨æ–¹å¼\n\n2. é‡å¯æœåŠ¡è‡ªåŠ¨åŠ è½½æ–°å·¥ä½œæµ\n\n## å¼€å‘\n\n\n### é¡¹ç›®ç»“æ„\n\n```\n.\nâ”œâ”€â”€ .gitignore\nâ”œâ”€â”€ .python-version\nâ”œâ”€â”€ pyproject.toml\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ uv.lock\nâ”œâ”€â”€ example/              # ç¤ºä¾‹å·¥ä½œæµç›®å½•\nâ”‚   â””â”€â”€ workflows/\nâ”‚       â”œâ”€â”€ i2image_bizyair_sdxl.json\nâ”‚       â”œâ”€â”€ t2image_bizyair_flux.json\nâ”‚       â”œâ”€â”€ i2image_cogview4.json\nâ”‚       â””â”€â”€ t2image_sd1.5.json\nâ”œâ”€â”€ src/                  # æºä»£ç ç›®å½•\nâ”‚   â””â”€â”€ hh_mcp_comfyui/\nâ”‚       â”œâ”€â”€ comfyui_client.py    # ComfyUIå®¢æˆ·ç«¯å®ç°\nâ”‚       â”œâ”€â”€ server.py            # MCPæœåŠ¡ä¸»æ–‡ä»¶\nâ”‚       â””â”€â”€ workflows/           # å·¥ä½œæµæ–‡ä»¶ç›®å½•\n```\n\n\n ### åˆå§‹åŒ–é¡¹ç›®å¼€å‘ç¯å¢ƒï¼š  \n\n  ```bash\n  # Clone the repository.\n  $ git clone https://github.com/zjf2671/hh-mcp-comfyui.git\n\n  $ cd hh-mcp-comfyui\n\n  # Initialized venv\n  $ uv venv\n\n  # Activate the virtual environment.\n  $ .venv\\Scripts\\activate\n\n  # Install dependencies.\n  $ uv lock\n  Resolved 30 packages in 1ms\n\n  # sync dependencies.\n  $ uv sync\n  Resolved 30 packages in 2.54s\n  Audited 29 package in 0.02ms\n  ```\n\n### æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸\n\n  ```bash\n  $ uv --directory ä½ æœ¬åœ°å®‰è£…ç›®å½•/hh-mcp-comfyui run hh-mcp-comfyui\n\n  INFO:__main__:Scanning for workflows in: D:\\cygitproject\\hh-mcp-comfyui\\src\\hh_mcp_comfyui\\workflows\n  INFO:__main__:Registered resource: workflow://t2image_bizyair_flux -> t2image_bizyair_flux.json\n  INFO:__main__:Starting ComfyUI MCP Server...\n  ```\n### ä½¿ç”¨MCP Inspectoræµ‹è¯•æœåŠ¡ç«¯å·¥å…·\n  \n  ```bash\n  $ npx @modelcontextprotocol/inspector uv --directory ä½ æœ¬åœ°å®‰è£…ç›®å½•/hh-mcp-comfyui run hh-mcp-comfyui\n  ```\n\n### MCPé…ç½®\n\n  ```bash\n  {\n    \"mcpServers\": {\n      \"hh-mcp-comfyui\": {\n        \"command\": \"uv\",\n        \"args\": [\n          \"--directory\",\n          \"é¡¹ç›®ç»å¯¹è·¯å¾„ï¼ˆä¾‹å¦‚ï¼šD:/hh-mcp-comfyuiï¼‰\",\n          \"run\",\n          \"hh-mcp-comfyui\"\n        ],\n        \"env\": {\n          \"COMFYUI_API_BASE\": \"http://127.0.0.1:8188\",\n          \"COMFYUI_WORKFLOWS_DIR\": \"/path/hh-mcp-comfyui/workflows\"\n        }\n      }\n    }\n  }\n  ```\n\n## è´¡çŒ®\n\n1. Forké¡¹ç›®\n2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)\n3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)\n4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)\n5. æ‰“å¼€Pull Request\n\n---\n## å¦‚æœ‰é—®é¢˜å¯ä»¥åˆ°å…¬ä¼—å·ä¸­è”ç³»æˆ‘ï¼š\n\n*<center>![å…¬ä¼—å·äºŒç»´ç ](https://image.harryzhang.site/2025/04/image-1-5ac2e62b072e6f1d6eb4e3638634094c.png)</center>*\n\n<center><u>ğŸ‘† æ‰«ç å…³æ³¨ï¼Œå‘ç°æ›´å¤šå¥½ç©çš„ï¼</u></center>\n\n---\n"
}