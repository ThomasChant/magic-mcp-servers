{
  "mcp_name": "ACAne0320/amap-weather-mcp-server",
  "mcp_description": "Provides real-time and forecast weather data for Chinese cities using the AMap API, easily integrable into AI applications.",
  "mcp_id": "ACAne0320_amap-weather-mcp-server",
  "fetch_timestamp": "2025-06-23T00:12:56.674311Z",
  "github_url": "https://github.com/ACAne0320/amap-weather-mcp-server",
  "repository": {
    "name": "amap-weather-mcp-server",
    "full_name": "ACAne0320/amap-weather-mcp-server",
    "description": "基于高德地图 API 的中国城市天气查询 MCP Server",
    "html_url": "https://github.com/ACAne0320/amap-weather-mcp-server",
    "created_at": "2025-04-08T13:02:52Z",
    "updated_at": "2025-05-27T03:47:39Z",
    "pushed_at": "2025-04-08T13:11:29Z",
    "size": 35,
    "stargazers_count": 5,
    "watchers_count": 5,
    "forks_count": 5,
    "open_issues_count": 0,
    "language": "Python",
    "license": null,
    "topics": [],
    "default_branch": "main",
    "owner": {
      "login": "ACAne0320",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/61050022?v=4",
      "html_url": "https://github.com/ACAne0320"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 5,
    "subscribers_count": 1,
    "languages": {
      "Python": 6978
    },
    "language_percentages": {
      "Python": 100
    },
    "pull_requests_count": 0,
    "contributors_count": 1
  },
  "readme": "# 中国城市天气查询 MCP 服务\n\n基于高德地图 API 的中国城市天气查询 Model Context Protocol (MCP) 服务。该服务允许用户通过简单的请求获取中国各城市的实时天气状况和未来几天的天气预报。\n\n## 功能特点\n\n- 使用高德地图天气 API 获取精确的中国城市天气数据\n- 支持查询实时天气状况\n- 支持查询未来 3-4 天的天气预报\n- 支持智能城市名称识别，包括城市、区县级别的查询\n- 支持城市名称搜索功能\n- 实现为标准 MCP 服务，易于集成到 AI 应用中\n\n## 安装说明\n\n### 前提条件\n\n- 高德地图开发者 API 密钥（需通过环境变量配置）\n\n### 安装步骤\n\n1. 克隆或下载本仓库\n2. 进入项目目录\n3. 使用 uv 安装依赖:\n\n```bash\nuv venv\nsource .venv/bin/activate\nuv add \"mcp[cli]\" httpx\n```\n\n## 使用方法\n\n### 启动 MCP 服务\n\n如果你需要自行创建客户端测试该 MCP 服务，请手动启动。\n在终端中执行以下命令启动 MCP 服务:\n\n```bash\nuv run weather.py\n```\n\n### 使用集成的 MCP 服务\n\n#### 在 Claude Desktop 中使用\n\n如果想在 Claude Desktop 中使用，请添加服务器配置：\n请在文本编辑器中打开 Claude for Desktop App 配置，路径参考如下 `~/Library/Application Support/Claude/claude_desktop_config.json`\n如果文件不存在，请确保创建该文件。\n\n```python\n{\n    \"mcpServers\": {\n        \"amap-weather-mcp-server\": {\n            \"command\": \"uv\",\n            \"args\": [\n                \"--directory\",\n                \"/ABSOLUTE/PATH/TO/PARENT/FOLDER/weather\",\n                \"run\",\n                \"weather.py\"\n            ],\n            \"env\": {\n                \"AMAP_API_KEY\": \"YOUR_API_KEY_HERE\"\n            }\n        }\n    }\n}\n```\n\n#### 在 Cherry Studio 中使用\n\n如下图所示配置即可：\n![in-cherrystudio](https://r2.nyaashino.com/docs/imgs/amap-weather-mcp-server/use-in-cherrystudio.png)\n\n### 调用服务\n\nMCP 服务提供了三个主要工具函数用于天气查询:\n\n1. `get_current_weather`: 获取城市当前天气状况\n2. `get_weather_forecast`: 获取未来几天的天气预报\n3. `search_city`: 搜索城市名称\n\n使用 MCP 客户端调用示例:\n\n```python\nfrom mcp.client import Client\n\n# 连接到服务\nclient = Client(\"amap-weather-mcp-server\")\n\n# 查询实时天气\ncurrent_weather = await client.get_current_weather(\"北京市\")\nprint(current_weather)\n\n# 查询天气预报\nforecast = await client.get_weather_forecast(\"上海市\")\nprint(forecast)\n\n# 搜索城市名称\ncities = await client.search_city(\"广州\")\nprint(cities)\n```\n\n## API 参考\n\n### get_current_weather\n\n获取指定城市的实时天气数据。\n\n**参数:**\n\n- `city`: 中国城市名称，需要包含省/市/县等行政区划标识，如\"北京市\"、\"上海市\"、\"海珠区\"等\n\n**返回:**\n格式化的城市实时天气信息字符串，包括:\n\n- 城市名称\n- 天气状况\n- 温度\n- 风向\n- 风力\n- 湿度\n- 发布时间\n\n### get_weather_forecast\n\n获取指定城市的天气预报（未来3-4天）。\n\n**参数:**\n\n- `city`: 中国城市名称，需要包含省/市/县等行政区划标识，如\"北京市\"、\"上海市\"、\"浙江省杭州市\"等\n\n**返回:**\n格式化的城市天气预报信息字符串，包括:\n\n- 城市名称\n- 未来几天的日期\n- 白天和夜间天气状况\n- 白天和夜间温度\n- 白天和夜间风向、风力\n\n### search_city\n\n根据关键词搜索匹配的城市名称。\n\n**参数:**\n\n- `keyword`: 城市名称关键词，建议包含省/市/县等行政区划标识，如\"广州市\"、\"海珠区\"等\n\n**返回:**\n包含匹配城市名称列表的字符串。\n\n## 数据来源\n\n本服务使用高德地图开放平台提供的天气数据 API：\n\n- 实时天气数据 API: <https://restapi.amap.com/v3/weather/weatherInfo>\n- 城市编码数据: AMap_adcode_citycode.csv\n\n## 注意事项\n\n- 该服务仅支持中国大陆地区的城市天气查询\n- 高德地图 API 可能有请求频率限制\n- 城市名称识别支持直接输入城市名称或区县名称（建议带上行政区划标识如\"市\"、\"县\"、\"区\"等）\n- 环境变量必须正确配置，否则API请求将失败\n\n## 许可证\n\n[MIT 许可证](LICENSE)\n"
}