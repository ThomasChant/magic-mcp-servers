{
  "mcp_name": "Grafana",
  "mcp_description": "üéñÔ∏è üêç üè† ‚òÅÔ∏è - Search dashboards, investigate incidents and query datasources in your Grafana instance",
  "mcp_id": "grafana_mcp-grafana",
  "fetch_timestamp": "2025-06-23T04:13:16.854348Z",
  "github_url": "https://github.com/grafana/mcp-grafana",
  "repository": {
    "name": "mcp-grafana",
    "full_name": "grafana/mcp-grafana",
    "description": "MCP server for Grafana",
    "html_url": "https://github.com/grafana/mcp-grafana",
    "created_at": "2024-12-24T15:44:23Z",
    "updated_at": "2025-06-23T02:10:00Z",
    "pushed_at": "2025-06-19T16:09:45Z",
    "size": 572,
    "stargazers_count": 979,
    "watchers_count": 979,
    "forks_count": 83,
    "open_issues_count": 23,
    "language": "Go",
    "license": "Apache License 2.0",
    "topics": [],
    "default_branch": "main",
    "owner": {
      "login": "grafana",
      "type": "Organization",
      "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
      "html_url": "https://github.com/grafana"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 83,
    "subscribers_count": 110,
    "languages": {
      "Go": 254807,
      "Python": 13716,
      "Makefile": 2381,
      "Dockerfile": 875,
      "Shell": 561
    },
    "language_percentages": {
      "Go": 93.56,
      "Python": 5.04,
      "Makefile": 0.87,
      "Dockerfile": 0.32,
      "Shell": 0.21
    },
    "pull_requests_count": 122,
    "contributors_count": 23,
    "latest_release": {
      "tag_name": "v0.5.0",
      "name": "v0.5.0",
      "published_at": "2025-06-14T10:18:22Z",
      "body": "## Changelog\n* c03ca3c387b2cd9b3d8d2fbd56d2a9e6b7b603fb Add better error behavior for sift (#161)\n* d4f71c565085595eb5ad994789da2f7a2766cb63 added streamable-http support (#171)\n* 2a8b07ec896b7e463c1dd33a30badc4ca9748186 chore(deps): bump github.com/mark3labs/mcp-go (#174)\n* 9c6767b0981cd3aeea43cbb5ce4163376280b283 chore(deps): bump the go-dependencies group across 1 directory with 4 updates (#155)\n* 841e392cbd5704ba86f6b6c0efa728bc9f246c1a chore: run dependabot for Github Actions, too (#173)\n* 60a7390fa66629ad97ead95cf35617d236e09eba feat: Add Pyroscope tools (#170)\n* de6926be0073a86f7a45f7ac1892ecef557eed76 fix: always fixup schemes of Grafana client based on final Grafana URL (#163)\n* 1a7f9c74bb074ea27506b7f86fff296a42ec85fe refactor: consolidate Grafana configuration into GrafanaConfig struct (#168)\n* 966a98185a96072ca6a91c6e9f8a4b185ba7e35a tests: run e2e tests using all three transports (#172)\n\n\n---\nReleased by [GoReleaser](https://github.com/goreleaser/goreleaser).\n",
      "prerelease": false,
      "draft": false
    },
    "tags": [
      {
        "name": "v0.5.0",
        "commit_sha": "60a7390fa66629ad97ead95cf35617d236e09eba"
      },
      {
        "name": "v0.4.2",
        "commit_sha": "7a2ef5285dec5a2e71f89a532d3b8af13356b667"
      },
      {
        "name": "v0.4.1",
        "commit_sha": "5fe4a9ab57023c14c845ba3a34a49062b78a260f"
      },
      {
        "name": "v0.4.0",
        "commit_sha": "6f3c503deac5fd9951089b9bf914266b3dec81ed"
      },
      {
        "name": "v0.3.0",
        "commit_sha": "ab3d4baaa6b6b14b629539579bc36a815fc36b85"
      },
      {
        "name": "v0.2.6",
        "commit_sha": "1f2dd62df2bbf5333b00346fda9e00ba72c23205"
      },
      {
        "name": "v0.2.5",
        "commit_sha": "78e604e723620270cec3c63121ab478d1070f5f6"
      },
      {
        "name": "v0.2.4",
        "commit_sha": "d4109ee31258d8b0dae2d42c9acd0d1d6a7cb073"
      },
      {
        "name": "v0.2.3",
        "commit_sha": "e4d55a958dda5fcdeb8a22c66f0652ef8ed61be0"
      },
      {
        "name": "v0.2.2",
        "commit_sha": "36cf65f3ed724485a4332435ded03d28e18eebac"
      }
    ],
    "latest_version": "v0.5.0"
  },
  "readme": "# Grafana MCP server\n\nA [Model Context Protocol][mcp] (MCP) server for Grafana.\n\nThis provides access to your Grafana instance and the surrounding ecosystem.\n\n## Features\n\n_The following features are currently available in MCP server. This list is for informational purposes only and does not represent a roadmap or commitment to future features._\n\n### Dashboards\n- **Search for dashboards:** Find dashboards by title or other metadata\n- **Get dashboard by UID:** Retrieve full dashboard details using its unique identifier\n- **Update or create a dashboard:** Modify existing dashboards or create new ones. _Note: Use with caution due to context window limitations; see [issue #101](https://github.com/grafana/mcp-grafana/issues/101)_\n- **Get panel queries and datasource info:** Get the title, query string, and datasource information (including UID and type, if available) from every panel in a dashboard\n\n### Datasources\n- **List and fetch datasource information:** View all configured datasources and retrieve detailed information about each.\n    - _Supported datasource types: Prometheus, Loki._\n\n### Prometheus Querying\n- **Query Prometheus:** Execute PromQL queries (supports both instant and range metric queries) against Prometheus datasources.\n- **Query Prometheus metadata:** Retrieve metric metadata, metric names, label names, and label values from Prometheus datasources.\n\n### Loki Querying\n- **Query Loki logs and metrics:** Run both log queries and metric queries using LogQL against Loki datasources.\n- **Query Loki metadata:** Retrieve label names, label values, and stream statistics from Loki datasources.\n\n### Incidents\n- **Search, create, update, and close incidents:** Manage incidents in Grafana Incident, including searching, creating, updating, and resolving incidents.\n\n### Sift Investigations\n- **Create Sift investigations:** Start a new Sift investigation for analyzing logs or traces.\n- **List Sift investigations:** Retrieve a list of Sift investigations, with support for a limit parameter.\n- **Get Sift investigation:** Retrieve details of a specific Sift investigation by its UUID.\n- **Get Sift analyses:** Retrieve a specific analysis from a Sift investigation.\n- **Find error patterns in logs:** Detect elevated error patterns in Loki logs using Sift.\n- **Find slow requests:** Detect slow requests using Sift (Tempo).\n\n### Alerting\n- **List and fetch alert rule information:** View alert rules and their statuses (firing/normal/error/etc.) in Grafana.\n- **List contact points:** View configured notification contact points in Grafana.\n\n### Grafana OnCall\n- **List and manage schedules:** View and manage on-call schedules in Grafana OnCall.\n- **Get shift details:** Retrieve detailed information about specific on-call shifts.\n- **Get current on-call users:** See which users are currently on call for a schedule.\n- **List teams and users:** View all OnCall teams and users.\n\n### Admin\n- **List teams:** View all configured teams in Grafana.\n\nThe list of tools is configurable, so you can choose which tools you want to make available to the MCP client.\nThis is useful if you don't use certain functionality or if you don't want to take up too much of the context window.\nTo disable a category of tools, use the `--disable-<category>` flag when starting the server. For example, to disable\nthe OnCall tools, use `--disable-oncall`.\n\n### Tools\n\n| Tool                              | Category    | Description                                                        |\n| --------------------------------- | ----------- | ------------------------------------------------------------------ |\n| `list_teams`                      | Admin       | List all teams                                                     |\n| `search_dashboards`               | Search      | Search for dashboards                                              |\n| `get_dashboard_by_uid`            | Dashboard   | Get a dashboard by uid                                             |\n| `update_dashboard`                | Dashboard   | Update or create a new dashboard                                   |\n| `get_dashboard_panel_queries`     | Dashboard   | Get panel title, queries, datasource UID and type from a dashboard |\n| `list_datasources`                | Datasources | List datasources                                                   |\n| `get_datasource_by_uid`           | Datasources | Get a datasource by uid                                            |\n| `get_datasource_by_name`          | Datasources | Get a datasource by name                                           |\n| `query_prometheus`                | Prometheus  | Execute a query against a Prometheus datasource                    |\n| `list_prometheus_metric_metadata` | Prometheus  | List metric metadata                                               |\n| `list_prometheus_metric_names`    | Prometheus  | List available metric names                                        |\n| `list_prometheus_label_names`     | Prometheus  | List label names matching a selector                               |\n| `list_prometheus_label_values`    | Prometheus  | List values for a specific label                                   |\n| `list_incidents`                  | Incident    | List incidents in Grafana Incident                                 |\n| `create_incident`                 | Incident    | Create an incident in Grafana Incident                             |\n| `add_activity_to_incident`        | Incident    | Add an activity item to an incident in Grafana Incident            |\n| `resolve_incident`                | Incident    | Resolve an incident in Grafana Incident                            |\n| `query_loki_logs`                 | Loki        | Query and retrieve logs using LogQL (either log or metric queries) |\n| `list_loki_label_names`           | Loki        | List all available label names in logs                             |\n| `list_loki_label_values`          | Loki        | List values for a specific log label                               |\n| `query_loki_stats`                | Loki        | Get statistics about log streams                                   |\n| `list_alert_rules`                | Alerting    | List alert rules                                                   |\n| `get_alert_rule_by_uid`           | Alerting    | Get alert rule by UID                                              |\n| `list_oncall_schedules`           | OnCall      | List schedules from Grafana OnCall                                 |\n| `get_oncall_shift`                | OnCall      | Get details for a specific OnCall shift                            |\n| `get_current_oncall_users`        | OnCall      | Get users currently on-call for a specific schedule                |\n| `list_oncall_teams`               | OnCall      | List teams from Grafana OnCall                                     |\n| `list_oncall_users`               | OnCall      | List users from Grafana OnCall                                     |\n| `get_investigation`               | Sift        | Retrieve an existing Sift investigation by its UUID                |\n| `get_analysis`                    | Sift        | Retrieve a specific analysis from a Sift investigation             |\n| `list_investigations`             | Sift        | Retrieve a list of Sift investigations with an optional limit      |\n| `find_error_pattern_logs`         | Sift        | Finds elevated error patterns in Loki logs.                        |\n| `find_slow_requests`              | Sift        | Finds slow requests from the relevant tempo datasources.           |\n| `list_pyroscope_label_names`      | Pyroscope   | List label names matching a selector                               |\n| `list_pyroscope_label_values`     | Pyroscope   | List label values matching a selector for a label name             |\n| `list_pyroscope_profile_types`    | Pyroscope   | List available profile types                                       |\n| `fetch_pyroscope_profile`         | Pyroscope   | Fetches a profile in DOT format for analysis                       |\n\n## Usage\n\n1. Create a service account in Grafana with enough permissions to use the tools you want to use,\n   generate a service account token, and copy it to the clipboard for use in the configuration file.\n   Follow the [Grafana documentation][service-account] for details.\n\n2. You have several options to install `mcp-grafana`:\n\n   - **Docker image**: Use the pre-built Docker image from Docker Hub.\n\n     **Important**: The Docker image's entrypoint is configured to run the MCP server in SSE mode by default, but most users will want to use STDIO mode for direct integration with AI assistants like Claude Desktop:\n\n     1. **STDIO Mode**: For stdio mode you must explicitly override the default with `-t stdio` and include the `-i` flag to keep stdin open:\n\n     ```bash\n     docker pull mcp/grafana\n     docker run --rm -i -e GRAFANA_URL=http://localhost:3000 -e GRAFANA_API_KEY=<your service account token> mcp/grafana -t stdio\n     ```\n\n     2. **SSE Mode**: In this mode, the server runs as an HTTP server that clients connect to. You must expose port 8000 using the `-p` flag:\n\n     ```bash\n     docker pull mcp/grafana\n     docker run --rm -p 8000:8000 -e GRAFANA_URL=http://localhost:3000 -e GRAFANA_API_KEY=<your service account token> mcp/grafana\n     ```\n\n     3. **Streamable HTTP Mode**: In this mode, the server operates as an independent process that can handle multiple client connections. You must expose port 8000 using the `-p` flag: For this mode you must explicitly override the default with `-t streamable-http`\n\n     ```bash\n     docker pull mcp/grafana\n     docker run --rm -p 8000:8000 -e GRAFANA_URL=http://localhost:3000 -e GRAFANA_API_KEY=<your service account token> mcp/grafana -t streamable-http\n     ```\n\n   - **Download binary**: Download the latest release of `mcp-grafana` from the [releases page](https://github.com/grafana/mcp-grafana/releases) and place it in your `$PATH`.\n\n   - **Build from source**: If you have a Go toolchain installed you can also build and install it from source, using the `GOBIN` environment variable\n     to specify the directory where the binary should be installed. This should also be in your `PATH`.\n\n     ```bash\n     GOBIN=\"$HOME/go/bin\" go install github.com/grafana/mcp-grafana/cmd/mcp-grafana@latest\n     ```\n\n3. Add the server configuration to your client configuration file. For example, for Claude Desktop:\n\n   **If using the binary:**\n\n   ```json\n   {\n     \"mcpServers\": {\n       \"grafana\": {\n         \"command\": \"mcp-grafana\",\n         \"args\": [],\n         \"env\": {\n           \"GRAFANA_URL\": \"http://localhost:3000\",\n           \"GRAFANA_API_KEY\": \"<your service account token>\"\n         }\n       }\n     }\n   }\n   ```\n\n> Note: if you see `Error: spawn mcp-grafana ENOENT` in Claude Desktop, you need to specify the full path to `mcp-grafana`.\n\n   **If using Docker:**\n\n   ```json\n   {\n     \"mcpServers\": {\n       \"grafana\": {\n         \"command\": \"docker\",\n         \"args\": [\n           \"run\",\n           \"--rm\",\n           \"-i\",\n           \"-e\",\n           \"GRAFANA_URL\",\n           \"-e\",\n           \"GRAFANA_API_KEY\",\n           \"mcp/grafana\",\n           \"-t\",\n           \"stdio\"\n         ],\n         \"env\": {\n           \"GRAFANA_URL\": \"http://localhost:3000\",\n           \"GRAFANA_API_KEY\": \"<your service account token>\"\n         }\n       }\n     }\n   }\n   ```\n\n   > Note: The `-t stdio` argument is essential here because it overrides the default SSE mode in the Docker image.\n\n**Using VSCode with remote MCP server**\n\nIf you're using VSCode and running the MCP server in SSE mode (which is the default when using the Docker image without overriding the transport), make sure your `.vscode/settings.json` includes the following:\n\n```json\n\"mcp\": {\n  \"servers\": {\n    \"grafana\": {\n      \"type\": \"sse\",\n      \"url\": \"http://localhost:8000/sse\"\n    }\n  }\n}\n```\n\n### Debug Mode\n\nYou can enable debug mode for the Grafana transport by adding the `-debug` flag to the command. This will provide detailed logging of HTTP requests and responses between the MCP server and the Grafana API, which can be helpful for troubleshooting.\n\nTo use debug mode with the Claude Desktop configuration, update your config as follows:\n\n**If using the binary:**\n\n```json\n{\n  \"mcpServers\": {\n    \"grafana\": {\n      \"command\": \"mcp-grafana\",\n      \"args\": [\"-debug\"],\n      \"env\": {\n        \"GRAFANA_URL\": \"http://localhost:3000\",\n        \"GRAFANA_API_KEY\": \"<your service account token>\"\n      }\n    }\n  }\n}\n```\n\n**If using Docker:**\n\n```json\n{\n  \"mcpServers\": {\n    \"grafana\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"run\",\n        \"--rm\",\n        \"-i\",\n        \"-e\",\n        \"GRAFANA_URL\",\n        \"-e\",\n        \"GRAFANA_API_KEY\",\n        \"mcp/grafana\",\n        \"-t\",\n        \"stdio\",\n        \"-debug\"\n      ],\n      \"env\": {\n        \"GRAFANA_URL\": \"http://localhost:3000\",\n        \"GRAFANA_API_KEY\": \"<your service account token>\"\n      }\n    }\n  }\n}\n```\n\n> Note: As with the standard configuration, the `-t stdio` argument is required to override the default SSE mode in the Docker image.\n\n### TLS Configuration\n\nIf your Grafana instance is behind mTLS or requires custom TLS certificates, you can configure the MCP server to use custom certificates. The server supports the following TLS configuration options:\n\n- `--tls-cert-file`: Path to TLS certificate file for client authentication\n- `--tls-key-file`: Path to TLS private key file for client authentication\n- `--tls-ca-file`: Path to TLS CA certificate file for server verification\n- `--tls-skip-verify`: Skip TLS certificate verification (insecure, use only for testing)\n\n**Example with client certificate authentication:**\n\n```json\n{\n  \"mcpServers\": {\n    \"grafana\": {\n      \"command\": \"mcp-grafana\",\n      \"args\": [\n        \"--tls-cert-file\", \"/path/to/client.crt\",\n        \"--tls-key-file\", \"/path/to/client.key\",\n        \"--tls-ca-file\", \"/path/to/ca.crt\"\n      ],\n      \"env\": {\n        \"GRAFANA_URL\": \"https://secure-grafana.example.com\",\n        \"GRAFANA_API_KEY\": \"<your service account token>\"\n      }\n    }\n  }\n}\n```\n\n**Example with Docker:**\n\n```json\n{\n  \"mcpServers\": {\n    \"grafana\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"run\",\n        \"--rm\",\n        \"-i\",\n        \"-v\", \"/path/to/certs:/certs:ro\",\n        \"-e\", \"GRAFANA_URL\",\n        \"-e\", \"GRAFANA_API_KEY\",\n        \"mcp/grafana\",\n        \"-t\", \"stdio\",\n        \"--tls-cert-file\", \"/certs/client.crt\",\n        \"--tls-key-file\", \"/certs/client.key\",\n        \"--tls-ca-file\", \"/certs/ca.crt\"\n      ],\n      \"env\": {\n        \"GRAFANA_URL\": \"https://secure-grafana.example.com\",\n        \"GRAFANA_API_KEY\": \"<your service account token>\"\n      }\n    }\n  }\n}\n```\n\nThe TLS configuration is applied to all HTTP clients used by the MCP server, including:\n- The main Grafana OpenAPI client\n- Prometheus datasource clients\n- Loki datasource clients\n- Incident management clients\n- Sift investigation clients\n- Alerting clients\n- Asserts clients\n\n**Direct CLI Usage Examples:**\n\nFor testing with self-signed certificates:\n```bash\n./mcp-grafana --tls-skip-verify -debug\n```\n\nWith client certificate authentication:\n```bash\n./mcp-grafana \\\n  --tls-cert-file /path/to/client.crt \\\n  --tls-key-file /path/to/client.key \\\n  --tls-ca-file /path/to/ca.crt \\\n  -debug\n```\n\nWith custom CA certificate only:\n```bash\n./mcp-grafana --tls-ca-file /path/to/ca.crt\n```\n\n**Programmatic Usage:**\n\nIf you're using this library programmatically, you can also create TLS-enabled context functions:\n\n```go\n// Using struct literals\ntlsConfig := &mcpgrafana.TLSConfig{\n    CertFile: \"/path/to/client.crt\",\n    KeyFile:  \"/path/to/client.key\",\n    CAFile:   \"/path/to/ca.crt\",\n}\ngrafanaConfig := mcpgrafana.GrafanaConfig{\n    Debug:     true,\n    TLSConfig: tlsConfig,\n}\ncontextFunc := mcpgrafana.ComposedStdioContextFunc(grafanaConfig)\n\n// Or inline\ngrafanaConfig := mcpgrafana.GrafanaConfig{\n    Debug: true,\n    TLSConfig: &mcpgrafana.TLSConfig{\n        CertFile: \"/path/to/client.crt\",\n        KeyFile:  \"/path/to/client.key\",\n        CAFile:   \"/path/to/ca.crt\",\n    },\n}\ncontextFunc := mcpgrafana.ComposedStdioContextFunc(grafanaConfig)\n```\n\n## Development\n\nContributions are welcome! Please open an issue or submit a pull request if you have any suggestions or improvements.\n\nThis project is written in Go. Install Go following the instructions for your platform.\n\nTo run the server locally in STDIO mode (which is the default for local development), use:\n\n```bash\nmake run\n```\n\nTo run the server locally in SSE mode, use:\n\n```bash\ngo run ./cmd/mcp-grafana --transport sse\n```\n\nYou can also run the server using the SSE transport inside a custom built Docker image. Just like the published Docker image, this custom image's entrypoint defaults to SSE mode. To build the image, use:\n\n```\nmake build-image\n```\n\nAnd to run the image in SSE mode (the default), use:\n\n```\ndocker run -it --rm -p 8000:8000 mcp-grafana:latest\n```\n\nIf you need to run it in STDIO mode instead, override the transport setting:\n\n```\ndocker run -it --rm mcp-grafana:latest -t stdio\n```\n\n### Testing\n\nThere are three types of tests available:\n\n1. Unit Tests (no external dependencies required):\n\n```bash\nmake test-unit\n```\n\nYou can also run unit tests with:\n\n```bash\nmake test\n```\n\n2. Integration Tests (requires docker containers to be up and running):\n\n```bash\nmake test-integration\n```\n\n3. Cloud Tests (requires cloud Grafana instance and credentials):\n\n```bash\nmake test-cloud\n```\n\n> Note: Cloud tests are automatically configured in CI. For local development, you'll need to set up your own Grafana Cloud instance and credentials.\n\nMore comprehensive integration tests will require a Grafana instance to be running locally on port 3000; you can start one with Docker Compose:\n\n```bash\ndocker-compose up -d\n```\n\nThe integration tests can be run with:\n\n```bash\nmake test-all\n```\n\nIf you're adding more tools, please add integration tests for them. The existing tests should be a good starting point.\n\n### Linting\n\nTo lint the code, run:\n\n```bash\nmake lint\n```\n\nThis includes a custom linter that checks for unescaped commas in `jsonschema` struct tags. The commas in `description` fields must be escaped with `\\\\,` to prevent silent truncation. You can run just this linter with:\n\n```bash\nmake lint-jsonschema\n```\n\nSee the [JSONSchema Linter documentation](internal/linter/jsonschema/README.md) for more details.\n\n## License\n\nThis project is licensed under the [Apache License, Version 2.0](LICENSE).\n\n[mcp]: https://modelcontextprotocol.io/\n[service-account]: https://grafana.com/docs/grafana/latest/administration/service-accounts/\n"
}