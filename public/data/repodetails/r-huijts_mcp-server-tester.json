{
  "mcp_name": "r-huijts/mcp-server-tester",
  "mcp_description": "A configuration-driven tool for automating tests and generating reports for MCP servers, leveraging Claude AI for intelligent test case generation.",
  "mcp_id": "r-huijts_mcp-server-tester",
  "fetch_timestamp": "2025-06-23T07:45:30.834501Z",
  "github_url": "https://github.com/r-huijts/mcp-server-tester",
  "repository": {
    "name": "mcp-server-tester",
    "full_name": "r-huijts/mcp-server-tester",
    "description": "Automated testing tool for Model Context Protocol (MCP) servers - WORK IN PROGRESS",
    "html_url": "https://github.com/r-huijts/mcp-server-tester",
    "created_at": "2025-04-04T11:29:54Z",
    "updated_at": "2025-06-20T20:46:47Z",
    "pushed_at": "2025-05-22T19:53:51Z",
    "size": 200,
    "stargazers_count": 8,
    "watchers_count": 8,
    "forks_count": 1,
    "open_issues_count": 0,
    "language": "TypeScript",
    "license": "MIT License",
    "topics": [],
    "default_branch": "main",
    "owner": {
      "login": "r-huijts",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/22192747?v=4",
      "html_url": "https://github.com/r-huijts"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 1,
    "subscribers_count": 1,
    "languages": {
      "TypeScript": 66814,
      "JavaScript": 11712
    },
    "language_percentages": {
      "TypeScript": 85.09,
      "JavaScript": 14.91
    },
    "pull_requests_count": 24,
    "contributors_count": 2,
    "package_json_version": "0.0.1"
  },
  "readme": "# MCP Server Tester\n\n> **⚠️ WORK IN PROGRESS**: This project is under active development and has not been thoroughly tested yet. Features may be incomplete, contain bugs, or change significantly. Use at your own risk in non-production environments only.\n\nA powerful, configuration-driven testing tool for Model Context Protocol (MCP) servers. This project provides a comprehensive solution for validating, benchmarking, and ensuring reliability of MCP servers that integrate with AI models like Claude.\n\n## Current Status\n\nThis tool is moving toward an alpha release and currently offers:\n- ✅ Basic configuration framework\n- ✅ MCP server connection and CLI support\n- ✅ Test generation using Claude AI\n- ✅ Natural language query generation for tests\n- ✅ Comprehensive response validation with multiple rules\n- ✅ Report generation in console, JSON, HTML, and Markdown formats\n- 🚧 Broader automated test coverage of the tester\n- 🚧 Production hardening and packaging improvements\n\nIf you're interested in contributing, please feel free to open issues and submit pull requests.\n\n## Introduction\n\nThe Model Context Protocol (MCP) enables AI models to access external tools and data sources through standardized interfaces. As MCP servers grow in complexity and importance, ensuring their correct functionality becomes critical. The MCP Server Tester addresses this need by:\n\n- **Automating tests** for all tools exposed by an MCP server\n- **Leveraging Claude AI** to generate intelligent, contextually-relevant test cases\n- **Validating responses** against expected outcomes and schemas\n- **Providing detailed reports** to identify issues and performance bottlenecks\n\nThis tool is designed for MCP server developers, AI integration teams, and quality assurance professionals who need to ensure their MCP implementations are robust, reliable, and correctly follow the protocol specifications.\n\n## Concept\n\nThe Model Context Protocol is a standard that allows AI models to call external tools. An *MCP server* exposes one or more tools through a simple HTTP interface. Each tool describes its name, parameters, and response schema so that a model can invoke it safely.\n\n`mcp-server-tester` automates the process of checking that an MCP server and its tools work correctly:\n\n1. **Discovery** – it queries the server for all available tools.\n2. **Test generation** – it uses Claude AI to create realistic test cases for each tool.\n3. **Execution** – it runs those tests against the server.\n4. **Validation** – it verifies the responses using configurable rules.\n5. **Reporting** – it summarizes the results in the console or in JSON, HTML, or Markdown formats.\n\nThe goal is to quickly spot mismatches between expected and actual behaviour so that you can fix issues before exposing the tools to production models.\n\n## Purpose\n\n- **Reliability** – catch bugs or inconsistent behaviour in your MCP server.\n- **Regression testing** – run the same set of tests whenever the server changes.\n- **Documentation** – generated reports describe the queries and expected outcomes for each tool.\n- **Automation** – integrate the tester into CI pipelines to ensure ongoing quality.\n## Repository\n\n- **GitHub**: [https://github.com/r-huijts/mcp-server-tester](https://github.com/r-huijts/mcp-server-tester)\n- **Issues**: [https://github.com/r-huijts/mcp-server-tester/issues](https://github.com/r-huijts/mcp-server-tester/issues)\n- **License**: [MIT](LICENSE)\n\n## Features\n\n- 🔍 Automatically discovers available tools from any MCP server\n- 🧪 Generates realistic test cases for each tool using Claude AI\n- ⚡ Executes tests and validates responses\n- 📊 Provides detailed test reports\n- 🔑 Supports multiple connection methods through configuration\n- **Configuration-Based**: Simple JSON configuration for defining MCP servers to test\n- **Multiple Server Support**: Test multiple MCP servers at once\n- **Comprehensive Testing**: Tests all tools exposed by each server\n- **Natural Language Context**: Includes the user query that would trigger each tool, providing real-world context\n- **Detailed Reports**: Generate reports in console, JSON, HTML, or Markdown formats\n- **Secure**: Keeps API keys in environment variables, not in configuration files\n\n## Prerequisites\n\n- Node.js 18 or higher\n- An Anthropic API key for generating test cases\n\n## Installation\n\nSince this project is still in development, installation is done by cloning the repository:\n\n```bash\n# Clone the repository\ngit clone https://github.com/r-huijts/mcp-server-tester.git\ncd mcp-server-tester\n\n# Install dependencies\nnpm install\n\n# Build the project\nnpm run build\n\n# Create a symbolic link to use it globally (optional)\nnpm link\n```\n\n## Configuration-Based Usage\n\nThe MCP Server Tester is designed to be driven entirely through configuration files. This approach offers several advantages:\n\n- **Reusability**: Define your servers once, test them repeatedly\n- **Version control**: Check in your test configurations alongside your code\n- **Sharing**: Easily share server test configurations with team members\n\n### Basic Usage\n\n```bash\n# Create a .env file with your Anthropic API key\necho \"ANTHROPIC_API_KEY=your-api-key-here\" > .env\n\n# Run tests using the configuration\nmcp-server-tester\n\n# Use a custom configuration file\nmcp-server-tester path/to/my-config.json\n```\n\n### Configuration File Structure\n\nThe configuration file (`mcp-servers.json`) controls all aspects of testing:\n\n```json\n{\n  \"numTestsPerTool\": 3,\n  \"timeoutMs\": 10000,\n  \"outputFormat\": \"console\",\n  \"outputPath\": \"./reports/results.json\",\n  \"verbose\": false,\n  \"mcpServers\": {\n    \"filesystem\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@modelcontextprotocol/server-filesystem\", \"./\"],\n      \"env\": {\n        \"DEBUG\": \"true\"\n      }\n    },\n    \"github\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@modelcontextprotocol/server-github\"],\n      \"env\": {\n        \"GITHUB_PERSONAL_ACCESS_TOKEN\": \"your-github-token-here\"\n      }\n    },\n    \"dev-server\": {\n      \"command\": \"node\",\n      \"args\": [\"/absolute/path/to/your/dev-server.js\"],\n      \"env\": {\n        \"DEBUG\": \"true\",\n        \"NODE_ENV\": \"development\"\n      }\n    }\n  }\n}\n```\n\nBy default, the tool will test all servers defined in the `mcpServers` section. If you want to test only specific servers, you can add an optional `servers` array:\n\n```json\n{\n  \"servers\": [\"filesystem\", \"dev-server\"],\n  \"numTestsPerTool\": 3,\n  // other settings...\n  \"mcpServers\": {\n    // server definitions...\n  }\n}\n```\n\n### Configuration Options\n\n#### Test Settings\n\n| Option | Description | Default |\n|--------|-------------|---------|\n| `servers` | Optional array of specific server names to test | All servers in `mcpServers` |\n| `numTestsPerTool` | Number of tests to generate per tool | 3 |\n| `timeoutMs` | Timeout for test execution in milliseconds | 10000 |\n| `outputFormat` | Format for test reports (`json`, `console`, `html`, `markdown`) | \"console\" |\n| `outputPath` | Path to output file | undefined |\n| `verbose` | Enable verbose logging | false |\n\n#### Server Definitions\n\nThe `mcpServers` section defines all available servers that can be tested:\n\n| Property | Description | Required |\n|----------|-------------|----------|\n| `command` | Executable or command to run | Yes |\n| `args` | Array of command-line arguments | Yes |\n| `env` | Environment variables to set | Yes |\n\n### Server Connection Types\n\nYou can define various types of MCP servers in your configuration:\n\n#### NPM Package\n\n```json\n\"npm-package\": {\n  \"command\": \"npx\",\n  \"args\": [\"-y\", \"@modelcontextprotocol/server-github\"],\n  \"env\": {}\n}\n```\n\n#### Local Script with Relative Path\n\n```json\n\"python-script\": {\n  \"command\": \"python\",\n  \"args\": [\"./servers/custom_server.py\"],\n  \"env\": {\n    \"PORT\": \"8080\"\n  }\n}\n```\n\n#### Local Script with Absolute Path\n\nUseful for testing development versions of servers:\n\n```json\n\"dev-server\": {\n  \"command\": \"node\",\n  \"args\": [\"/absolute/path/to/your/dev-server.js\"],\n  \"env\": {\n    \"DEBUG\": \"true\",\n    \"NODE_ENV\": \"development\"\n  }\n}\n```\n\n#### Socket Connection\n\n```json\n\"remote-socket\": {\n  \"command\": \"nc\",\n  \"args\": [\"localhost\", \"3000\"],\n  \"env\": {}\n}\n```\n\n## API Key Management\n\nFor security reasons, your Anthropic API key should only be set in one of these ways:\n\n1. Environment variable: `ANTHROPIC_API_KEY=your-api-key`\n2. `.env` file in your project directory:\n   ```\n   ANTHROPIC_API_KEY=your-api-key\n   ```\n3. Optionally set the Claude model:\n   ```\n   CLAUDE_MODEL=claude-3-opus\n   ```\n   If not provided, the tool defaults to `claude-3-7-sonnet-20250219`.\n\n**Important**: Never put your API key in the configuration file, as it may be committed to version control.\n\n## Command-Line Options\n\nMCP Server Tester supports minimal command-line options:\n\n| Option | Description |\n|--------|-------------|\n| `--init` or `-i` | Create a default configuration file |\n| `--list` or `-l` | List all servers defined in your configuration |\n| `--help` or `-h` | Display help information |\n| `--servers` or `-s` | Comma-separated list of servers to test |\n| `[config-path]` | Specify a custom configuration file path |\n\nThe `--servers` option overrides the `servers` array in your configuration file.\n\n## Test Generation Process\n\nThe tool uses Claude AI to automatically generate appropriate test cases for each tool exposed by the MCP server:\n\n1. It discovers all available tools from the server\n2. For each tool, it analyzes:\n   - Tool name and description\n   - Required and optional parameters\n   - Parameter types and constraints\n3. Claude generates multiple test cases per tool:\n   - Happy path tests with valid inputs\n   - Edge case tests with boundary values\n   - Error case tests with invalid inputs\n\nEach test case includes:\n- Description of what's being tested\n- Input parameters\n- Expected outcome criteria\n\n### Validation Rule Types\n\nValidation rules are used to check the structure and content of a tool response.\nThe following rule types are supported:\n\n- `contains` – ensure a string or array contains a given value\n- `matches` – check equality or a regular expression match\n- `hasProperty` – verify that a property exists\n- `equals` – assert that a value exactly matches the expected value\n- `arrayLength` – require an array to have a specific length\n- `custom` – invoke a user-defined validation function\n\n## Test Execution and Validation\n\nFor each server specified in the configuration (or all servers if none specified):\n\n1. The tool connects to the server\n2. It discovers all available tools\n3. It generates test cases for each tool\n4. It executes each test case against the server\n5. It validates the responses against expected outcomes\n6. It generates a report of the results\n\n## Reporting Options\n\nThe tool can generate reports in multiple formats, controlled by the `outputFormat` configuration option:\n\n### Console Output (Default)\n\nDisplays test results directly in the terminal.\n\n### JSON Report\n\nCreates a structured JSON file at the path specified in `outputPath`.\n\n### HTML Report\n\nGenerates an HTML report with visualizations at the path specified in `outputPath`.\n\n### Markdown Report\n\nCreates a portable Markdown file at the path specified in `outputPath`.\n\n## Complete Examples\n\n### Basic Setup and Testing\n\n1. Create a default configuration file:\n   ```bash\n   mcp-server-tester --init\n   ```\n\n2. Edit the `mcp-servers.json` file to add your own servers and settings\n\n3. Create a `.env` file with your Anthropic API key:\n   ```bash\n   echo \"ANTHROPIC_API_KEY=your-api-key-here\" > .env\n   ```\n\n4. Run the tests:\n   ```bash\n   mcp-server-tester\n   ```\n\n### Testing a Dev Version of Your Server\n\nTo test a development version of your MCP server:\n\n1. Add a configuration for your development server with the absolute path:\n\n```json\n{\n  \"mcpServers\": {\n    \"my-dev-server\": {\n      \"command\": \"node\",\n      \"args\": [\"/path/to/your/project/dist/server.js\"],\n      \"env\": {\n        \"DEBUG\": \"true\",\n        \"NODE_ENV\": \"development\"\n      }\n    }\n  }\n}\n```\n\n2. Run the tests:\n```bash\nmcp-server-tester\n```\n\n### Testing Multiple Different Configurations\n\nYou can maintain different configuration files for different testing scenarios:\n\n```bash\n# Create different config files for different environments\ncp mcp-servers.json config-dev.json\ncp mcp-servers.json config-prod.json\n\n# Edit each file with appropriate settings\n\n# Run tests with specific config\nmcp-server-tester ./config-dev.json\nmcp-server-tester ./config-prod.json\n```\n\n## Troubleshooting\n\n### Connection Issues\n\nIf you're having trouble connecting to an MCP server:\n\n1. Verify the server configuration in your `mcp-servers.json` file\n2. Check if the server supports the MCP protocol\n3. Try increasing the `timeoutMs` for slower servers\n4. Enable verbose logging by setting `verbose: true`\n5. Check server process startup with environment variable `DEBUG=true`\n\n### API Key Issues\n\nIf you encounter API key issues:\n\n1. Verify your Anthropic API key is valid\n2. Make sure the API key is correctly set in your environment or .env file\n3. Check for any spaces or extra characters in your API key\n4. Confirm that the .env file is in the correct location (project root)\n\n### Tool Execution Failures\n\nIf tool executions are failing:\n\n1. Ensure your server implements the MCP protocol correctly\n2. Check the server logs for errors\n3. Verify the tool parameters are valid\n4. Increase the timeout if the tool takes longer to execute\n\n### Node.js Deprecation Warnings\n\n#### `punycode` Module Deprecation Warning\n\nIf you encounter this warning:\n\n```\n(node:71439) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.\n```\n\nThis is a harmless warning from Node.js about an internal module being deprecated. It doesn't affect the functionality of the MCP Server Tester. The warning comes from one of the dependencies and will be resolved in future updates.\n\n**Solutions:**\n\n1. **Ignore the warning** - It doesn't affect functionality\n2. **Suppress warnings** - Run with the `NODE_NO_WARNINGS=1` environment variable:\n   ```bash\n   NODE_NO_WARNINGS=1 mcp-server-tester\n   ```\n3. **Use the npm scripts** - The included npm scripts already suppress these warnings:\n   ```bash\n   npm start\n   ```\n\n## Development\n\nTo set up the development environment:\n\n```bash\n# Clone the repository\ngit clone https://github.com/r-huijts/mcp-server-tester.git\ncd mcp-server-tester\n\n# Install dependencies (including dev dependencies)\nnpm install\n# Run the Jest test suite\nnpm test\n# Lint the code for style issues\nnpm run lint\n\n# Create your .env file\ncp .env.example .env\n# Edit .env and add your API key\n\n# Run the tool in development mode\nnpm run dev\n```\n\n### Code Structure\n\nThe canonical test generator lives at `src/test-generator/TestGenerator.ts`.\nOlder files such as `src/generator/TestGenerator.ts` have been removed to avoid\nconfusion. All imports should reference the module under `src/test-generator/`.\n\n## Packaging and Distribution\n\nThe project can be published as an npm package for easier installation.\n\n```bash\n# Compile TypeScript sources\nnpm run build\n\n# Create a tarball of the package\nnpm pack\n\n# Publish to npm (requires npm credentials)\nnpm publish\n```\n\nOnly the contents of the `dist` folder and essential documentation are included\nin the published package. The build step runs automatically when `npm publish`\nis executed.\n\n## License\n\nThis project is licensed under the [MIT](LICENSE) license.\n## Installation (Quick Start)\n\n1. Install Node.js 18 or newer.\n2. Clone the repository and install dependencies:\n\n```bash\ngit clone https://github.com/r-huijts/mcp-server-tester.git\ncd mcp-server-tester\nnpm install\nnpm run build\n```\n\n3. Optionally link the package globally so the `mcp-server-tester` command is available system-wide:\n\n```bash\nnpm link\n```\n\n## Configuration Overview\n\nAll behaviour is controlled by a JSON configuration file (by default `mcp-servers.json`). The configuration lists which MCP servers to test and defines options such as timeouts and report formats.\n\nCreate the file with `--init` or copy the provided example:\n\n```bash\nmcp-server-tester --init\n# or\ncp mcp-servers.json.example mcp-servers.json\n```\n\nEdit the file to add your servers. A minimal example looks like:\n\n```json\n{\n  \"numTestsPerTool\": 2,\n  \"timeoutMs\": 10000,\n  \"outputFormat\": \"console\",\n  \"mcpServers\": {\n    \"filesystem\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@modelcontextprotocol/server-filesystem\", \"./\"],\n      \"env\": { \"DEBUG\": \"true\" }\n    }\n  }\n}\n```\n\nPlace your Anthropic API key in a `.env` file or export it as `ANTHROPIC_API_KEY`:\n\n```\nANTHROPIC_API_KEY=your-api-key\n```\n\n## Running Tests\n\nWith the configuration and environment variables in place, run:\n\n```bash\nmcp-server-tester\n```\n\nUse `mcp-server-tester path/to/config.json` to specify a different configuration or `--servers filesystem,github` to test only certain servers.\n\n## Understanding Results\n\nBy default, results appear in the console. You can also generate structured reports:\n\n- **JSON** – machine readable data for further processing.\n- **HTML** – easy to browse summary with collapsible sections.\n- **Markdown** – shareable format suitable for code reviews.\n\nThe report lists each tool, the natural language query used to invoke it, whether the response met the validation rules, and details on any failures.\n\n## Troubleshooting Basics\n\n- **Connection issues** – verify the server paths and increase `timeoutMs` if needed.\n- **API key problems** – make sure `ANTHROPIC_API_KEY` is set with no extra spaces.\n- **Tool failures** – inspect server logs and ensure your implementation follows the MCP specification.\n"
}