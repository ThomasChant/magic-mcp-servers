{
  "mcp_name": "korwabs/playwright-trace-mcp",
  "mcp_description": "Enhances browser automation with Playwright by adding trace viewer and video recording capabilities, enabling LLMs to interact with web pages through structured data.",
  "mcp_id": "korwabs_playwright-trace-mcp",
  "fetch_timestamp": "2025-06-23T05:52:28.698647Z",
  "github_url": "https://github.com/korwabs/playwright-trace-mcp",
  "repository": {
    "name": "playwright-trace-mcp",
    "full_name": "korwabs/playwright-trace-mcp",
    "description": "advanced playwright mcp by adding trace viewer function",
    "html_url": "https://github.com/korwabs/playwright-trace-mcp",
    "created_at": "2025-04-24T05:05:42Z",
    "updated_at": "2025-04-29T09:28:38Z",
    "pushed_at": "2025-04-24T06:07:39Z",
    "size": 196,
    "stargazers_count": 1,
    "watchers_count": 1,
    "forks_count": 0,
    "open_issues_count": 0,
    "language": "TypeScript",
    "license": "Apache License 2.0",
    "topics": [],
    "default_branch": "main",
    "owner": {
      "login": "korwabs",
      "type": "User",
      "avatar_url": "https://avatars.githubusercontent.com/u/153827482?v=4",
      "html_url": "https://github.com/korwabs"
    },
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "archived": false,
    "disabled": false,
    "visibility": "public",
    "network_count": 0,
    "subscribers_count": 1,
    "languages": {
      "TypeScript": 144438,
      "JavaScript": 126312,
      "Dockerfile": 593
    },
    "language_percentages": {
      "TypeScript": 53.23,
      "JavaScript": 46.55,
      "Dockerfile": 0.22
    },
    "pull_requests_count": 0,
    "contributors_count": 1,
    "package_json_version": "0.0.1"
  },
  "readme": "# For Local Setting (Claude Desktop)\n\n```bash\ncd /lcoal/path/to/install/you/want\ngit clone https://github.com/korwabs/playwright-trace-mcp.git\nnpm install\nnpm run build\n```\n\n```json\n    \"playwright\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"/lcoal/path/to/install/you/want/cli.js\",\n        \"--trace\",\n        \"--trace-dir\",\n        \"/path/to/save/tracing/result/file\"\n      ]\n    }\n```\n\nThese Arguments : Change as your proper path  \n\"/lcoal/path/to/install/you/want/cli.js\"  \n\"/path/to/save/tracing/result/file\"\n\n# Caution!!\n\nIGNORE BELOW GUIDE (npm pulishing is not yet)\n\n# Playwright Trace MCP\n\nPlaywright Trace MCP is a Model Context Protocol (MCP) server that provides browser automation capabilities using [Playwright](https://playwright.dev/). This server adds trace viewer and video recording functionality to record and analyze browser interactions. It enables LLMs (Large Language Models) to interact with web pages through structured accessibility snapshots, without requiring screenshots or visual models.\n\n## Key Features\n\n- **Fast and lightweight**: Uses Playwright's accessibility tree, not pixel-based input.\n- **LLM-friendly**: No vision models needed, operates purely on structured data.\n- **Deterministic tool application**: Avoids ambiguity common with screenshot-based approaches.\n- **Video recording**: Ability to record browser interactions as video.\n- **Trace viewer**: Capability to trace and analyze browser interactions.\n\n## Use Cases\n\n- Web navigation and form-filling\n- Data extraction from structured content\n- LLM-driven automated testing\n- General-purpose browser interaction for agents\n- Recording and analyzing browser interactions\n\n## Installation\n\n### For Users\n\n#### Installation via NPM\n\n```bash\nnpm install @playwright/trace-mcp\n```\n\nOr\n\n```bash\nnpx @playwright/trace-mcp\n```\n\n### Configuration Example\n\n#### NPX\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"command\": \"npx\",\n      \"args\": [\"@playwright/trace-mcp@latest\"]\n    }\n  }\n}\n```\n\n### Installation in VS Code\n\nYou can install the Playwright Record MCP server using VS Code CLI:\n\n```bash\n# For VS Code\ncode --add-mcp '{\"name\":\"playwright\",\"command\":\"npx\",\"args\":[\"@playwright/trace-mcp@latest\"]}'\n```\n\n```bash\n# For VS Code Insiders\ncode-insiders --add-mcp '{\"name\":\"playwright\",\"command\":\"npx\",\"args\":[\"@playwright/trace-mcp@latest\"]}'\n```\n\nAfter installation, the Playwright Record MCP server will be available for use with your GitHub Copilot agent in VS Code.\n\n## CLI Options\n\nThe Playwright Trace MCP server supports the following command-line options:\n\n- `--browser <browser>`: Browser or Chrome channel to use. Possible values:\n  - `chrome`, `firefox`, `webkit`, `msedge`\n  - Chrome channels: `chrome-beta`, `chrome-canary`, `chrome-dev`\n  - Edge channels: `msedge-beta`, `msedge-canary`, `msedge-dev`\n  - Default: `chrome`\n- `--caps <caps>`: Comma-separated list of capabilities to enable, possible values: tabs, pdf, history, wait, files, install. Default is all.\n- `--cdp-endpoint <endpoint>`: CDP endpoint to connect to\n- `--executable-path <path>`: Path to the browser executable\n- `--headless`: Run browser in headless mode (headed by default)\n- `--port <port>`: Port to listen on for SSE transport\n- `--user-data-dir <path>`: Path to the user data directory\n- `--vision`: Run server that uses screenshots (Aria snapshots are used by default)\n- `--record-video`: Record browser interactions as video\n- `--video-dir <path>`: Directory to save videos (default: mcp_videos)\n- `--trace`: Enable tracing for the browser session\n- `--trace-dir <path>`: Directory to save traces (default: mcp_traces)\n- `--trace-screenshots`: Enable capturing screenshots in trace (default: true)\n- `--trace-snapshots`: Enable capturing DOM snapshots in trace (default: true)\n- `--record-path <path>`: Path to save recording files (default: ./recordings)\n- `--record-format <format>`: Recording format, possible values: mp4, webm (default: mp4)\n\n## User Data Directory\n\nPlaywright Trace MCP will launch the browser with a new profile, located at:\n\n- Windows: `%USERPROFILE%\\AppData\\Local\\ms-playwright\\mcp-chrome-profile`\n- macOS: `~/Library/Caches/ms-playwright/mcp-chrome-profile`\n- Linux: `~/.cache/ms-playwright/mcp-chrome-profile`\n\nAll login information will be stored in that profile; you can delete it between sessions if you'd like to clear the offline state.\n\n## Running Headless Browser (Browser without GUI)\n\nThis mode is useful for background or batch operations.\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"command\": \"npx\",\n      \"args\": [\"@playwright/trace-mcp@latest\", \"--headless\"]\n    }\n  }\n}\n```\n\n## Using Video Recording\n\nTo use the video recording feature, use the `--record-video` flag:\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"command\": \"npx\",\n      \"args\": [\"@playwright/trace-mcp@latest\", \"--record-video\"]\n    }\n  }\n}\n```\n\nTo specify the video directory path:\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"@playwright/trace-mcp@latest\",\n        \"--record-video\",\n        \"--video-dir\",\n        \"./my-videos\"\n      ]\n    }\n  }\n}\n```\n\n## Using Trace Viewer\n\nTo enable trace recording functionality, use the `--trace` flag:\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"command\": \"npx\",\n      \"args\": [\"@playwright/trace-mcp@latest\", \"--trace\"]\n    }\n  }\n}\n```\n\nTo customize trace recording options:\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"@playwright/trace-mcp@latest\",\n        \"--trace\",\n        \"--trace-dir\",\n        \"./my-traces\",\n        \"--trace-screenshots\",\n        \"--trace-snapshots\"\n      ]\n    }\n  }\n}\n```\n\nAfter recording a trace, you can view it using the built-in trace viewer tool or through the Playwright CLI:\n\n```bash\nnpx playwright show-trace ./my-traces/trace.zip\n```\n\n## Running Headed Browser on Linux without DISPLAY\n\nWhen running a headed browser on a system without a display or from worker processes of IDEs,\nrun the MCP server from an environment with DISPLAY and pass the `--port` flag to enable SSE transport.\n\n```bash\nnpx @playwright/trace-mcp@latest --port 8931\n```\n\nThen, in the MCP client config, set the `url` to the SSE endpoint:\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"url\": \"http://localhost:8931/sse\"\n    }\n  }\n}\n```\n\n## Docker\n\n**NOTE:** The Docker implementation currently only supports headless Chromium.\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"command\": \"docker\",\n      \"args\": [\"run\", \"-i\", \"--rm\", \"--init\", \"mcp/playwright-trace\"]\n    }\n  }\n}\n```\n\nTo build with Docker:\n\n```bash\ndocker build -t mcp/playwright-trace .\n```\n\n## Tool Modes\n\nThe tools are available in two modes:\n\n1. **Snapshot Mode** (default): Uses accessibility snapshots for better performance and reliability\n2. **Vision Mode**: Uses screenshots for visual-based interactions\n\nTo use Vision Mode, add the `--vision` flag when starting the server:\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"command\": \"npx\",\n      \"args\": [\"@playwright/record-mcp@latest\", \"--vision\"]\n    }\n  }\n}\n```\n\nVision Mode works best with computer use models that are able to interact with elements using X-Y coordinate space, based on the provided screenshot.\n\n## Programmatic Usage with Custom Transports\n\n```javascript\nimport http from \"http\";\n\nimport { createServer } from \"@playwright/trace-mcp\";\nimport { SSEServerTransport } from \"@modelcontextprotocol/sdk/server/sse.js\";\n\nhttp.createServer(async (req, res) => {\n  // ...\n\n  // Creates a headless Playwright Record MCP server with SSE transport\n  const mcpServer = await createServer({ headless: true, record: true });\n  const transport = new SSEServerTransport(\"/messages\", res);\n  await mcpServer.connect(transport);\n\n  // ...\n});\n```\n\n## Snapshot-based Interactions\n\n- **browser_snapshot**\n\n  - Description: Capture accessibility snapshot of the current page, this is better than screenshot\n  - Parameters: None\n\n- **browser_click**\n\n  - Description: Perform click on a web page\n  - Parameters:\n    - `element` (string): Human-readable element description used to obtain permission to interact with the element\n    - `ref` (string): Exact target element reference from the page snapshot\n\n- **browser_drag**\n\n  - Description: Perform drag and drop between two elements\n  - Parameters:\n    - `startElement` (string): Human-readable source element description used to obtain the permission to interact with the element\n    - `startRef` (string): Exact source element reference from the page snapshot\n    - `endElement` (string): Human-readable target element description used to obtain the permission to interact with the element\n    - `endRef` (string): Exact target element reference from the page snapshot\n\n- **browser_hover**\n\n  - Description: Hover over element on page\n  - Parameters:\n    - `element` (string): Human-readable element description used to obtain permission to interact with the element\n    - `ref` (string): Exact target element reference from the page snapshot\n\n- **browser_type**\n  - Description: Type text into editable element\n  - Parameters:\n    - `element` (string): Human-readable element description used to obtain permission to interact with the element\n    - `ref` (string): Exact target element reference from the page snapshot\n    - `text` (string): Text to type into the element\n    - `submit` (boolean, optional): Whether to submit entered text (press Enter after)\n    - `slowly` (boolean, optional): Whether to type one character at a time. Useful for triggering key handlers in the page. By default entire text is filled in at once.\n\n## Video Recording Tools\n\n- **browser_video_enable**\n\n  - Description: Enable video recording for the browser session\n  - Parameters:\n    - `directory` (string, optional): Directory to save the video files (default: mcp_videos)\n\n- **browser_video_get_path**\n\n  - Description: Get the path of the current video recording\n  - Parameters: None\n\n- **browser_video_save**\n  - Description: Save the current video recording to a file\n  - Parameters:\n    - `filename` (string): Name of the file to save the video to\n\n## Trace Viewer Tools\n\n- **browser_trace_start**\n\n  - Description: Start recording a trace of browser interactions\n  - Parameters:\n    - `directory` (string, optional): Directory to save trace files (default: mcp_traces)\n    - `name` (string, optional): Name of the trace file (default: trace)\n    - `screenshots` (boolean, optional): Whether to capture screenshots (default: true)\n    - `snapshots` (boolean, optional): Whether to capture DOM snapshots (default: true)\n\n- **browser_trace_stop**\n\n  - Description: Stop recording trace and save it to a file\n  - Parameters:\n    - `path` (string, optional): Path to save the trace file (default: directory/name.zip from trace_start)\n\n- **browser_trace_view**\n  - Description: Open a trace file in Playwright Trace Viewer\n  - Parameters:\n    - `path` (string): Path to the trace file to open\n    - `port` (number, optional): Port to run the Trace Viewer on (default: 9322)\n\n## Scroll Tools\n\n- **browser_scroll**\n\n  - Description: Scroll the page by a specified amount\n  - Parameters:\n    - `x` (number, optional): Horizontal scroll amount in pixels (default: 0)\n    - `y` (number): Vertical scroll amount in pixels\n    - `behavior` (string, optional): Scroll behavior ('auto' or 'smooth', default: 'auto')\n\n- **browser_scroll_to_element**\n\n  - Description: Scroll to bring a specific element into view\n  - Parameters:\n    - `element` (string): Human-readable description of the target element\n    - `ref` (string): Element reference from page snapshot\n    - `behavior` (string, optional): Scroll behavior ('auto' or 'smooth', default: 'auto')\n    - `block` (string, optional): Vertical alignment ('start', 'center', 'end', 'nearest', default: 'center')\n    - `inline` (string, optional): Horizontal alignment ('start', 'center', 'end', 'nearest', default: 'nearest')\n\n- **browser_scroll_to_position**\n\n  - Description: Scroll to an absolute position on the page\n  - Parameters:\n    - `x` (number): Horizontal position in pixels\n    - `y` (number): Vertical position in pixels\n    - `behavior` (string, optional): Scroll behavior ('auto' or 'smooth', default: 'auto')\n\n- **browser_auto_scroll**\n  - Description: Automatically scroll to the bottom of the page, ensuring all content is loaded\n  - Parameters:\n    - `distance` (number, optional): Distance to scroll in each step in pixels (default: 100)\n    - `delay` (number, optional): Delay between scroll steps in milliseconds (default: 100)\n\n### Scrolling Examples\n\n```javascript\n// 기본 스크롤 - 페이지 아래로 500픽셀 스크롤\nawait mcpServer.invoke(\"browser_scroll\", {\n  y: 500,\n});\n\n// 부드러운 스크롤 효과 사용\nawait mcpServer.invoke(\"browser_scroll\", {\n  y: 500,\n  behavior: \"smooth\",\n});\n\n// 특정 요소로 스크롤 (먼저 스냅샷 캡처 필요)\nawait mcpServer.invoke(\"browser_snapshot\");\nawait mcpServer.invoke(\"browser_scroll_to_element\", {\n  element: \"상품 설명 섹션\",\n  ref: \"element-ref-123\",\n});\n\n// 특정 위치로 스크롤\nawait mcpServer.invoke(\"browser_scroll_to_position\", {\n  x: 0,\n  y: 1500,\n});\n\n// 페이지 전체 자동 스크롤 (긴 페이지의 모든 콘텐츠 로드)\nawait mcpServer.invoke(\"browser_auto_scroll\", {\n  distance: 200, // 각 스크롤 단계의 거리\n  delay: 100, // 각 스크롤 사이의 지연 시간(ms)\n});\n```\n\n### Video Recording and Tracing\n\n```javascript\n// Start video recording\nawait mcpServer.invoke(\"browser_video_enable\", {\n  directory: \"./mcp_videos\",\n});\n\n// Start tracing\nawait mcpServer.invoke(\"browser_trace_start\", {\n  directory: \"./mcp_traces\",\n  name: \"my-trace\",\n  screenshots: true,\n  snapshots: true,\n});\n\n// Perform browser navigation\nawait mcpServer.invoke(\"browser_navigate\", {\n  url: \"https://example.com\",\n});\n\n// Interact with the page\nconst snapshot = await mcpServer.invoke(\"browser_snapshot\");\n// Find elements in the snapshot...\n\n// Stop tracing and save\nawait mcpServer.invoke(\"browser_trace_stop\", {\n  path: \"./mcp_traces/my-trace.zip\",\n});\n\n// Get video path and save\nconst videoPath = await mcpServer.invoke(\"browser_video_get_path\");\nawait mcpServer.invoke(\"browser_video_save\", {\n  filename: \"my-recording.mp4\",\n});\n\n// View trace in Playwright Trace Viewer\nawait mcpServer.invoke(\"browser_trace_view\", {\n  path: \"./mcp_traces/my-trace.zip\",\n  port: 9322,\n});\n```\n\n## Supported Browsers\n\n- Chrome\n- Firefox\n- WebKit\n- Microsoft Edge\n\n## Requirements\n\n- Node.js 18 or higher\n- The required browser must be installed (or use the `browser_install` tool to install it)\n\n## Development Setup\n\n### Environment Setup\n\nTo set up a development environment for Playwright Trace MCP, follow these steps:\n\n1. **Clone the repository**:\n\n   ```bash\n   git clone https://github.com/korwabs/playwright-trace-mcp.git\n   cd playwright-trace-mcp\n   ```\n\n2. **Install dependencies**:\n\n   ```bash\n   npm install\n   ```\n\n3. **Building the project**:\n\n   The project uses TypeScript and needs to be compiled. The build process is configured to use the locally installed TypeScript compiler. To build the project:\n\n   ```bash\n   npm run build\n   ```\n\n   **Troubleshooting Build Issues**:\n\n   If you encounter issues with the TypeScript compiler not being found, you may need to ensure the local TypeScript package is properly installed:\n\n   ```bash\n   # Remove node_modules (optional, if you suspect corrupted packages)\n   rm -rf node_modules\n\n   # Reinstall dependencies\n   npm install\n   ```\n\n   If you still face issues with the build command, you can directly use the TypeScript compiler from node_modules:\n\n   ```bash\n   # Using the local TypeScript compiler directly\n   node ./node_modules/typescript/bin/tsc\n   ```\n\n4. **Running tests**:\n\n   ```bash\n   npm test\n   ```\n\n5. **Watching for changes during development**:\n   ```bash\n   npm run watch\n   ```\n\n### Project Structure\n\n- `src/`: TypeScript source code\n  - `tools/`: MCP tools implementation\n    - `trace.ts`: Trace viewer functionality\n    - `video.ts`: Video recording functionality\n  - `utils/`: Utility functions\n    - `trace-viewer.ts`: Helper functions for trace viewer\n  - `context.ts`: Context implementation\n  - `index.ts`: Main entry point\n- `lib/`: Compiled JavaScript code (generated)\n- `tests/`: Test files\n\n### Common Development Tasks\n\n1. **Adding a new tool**:\n\n   - Create a new file in `src/tools/`\n   - Export tool implementations using the `defineTool` factory\n   - Import and add the tool to the tool arrays in `src/index.ts`\n\n2. **Testing locally**:\n\n   ```bash\n   # Build the project\n   npm run build\n\n   # Link the package locally\n   npm link\n\n   # Use the linked package\n   npx @playwright/trace-mcp\n   ```\n\n3. **Publishing a new version**:\n   ```bash\n   # Clean, build, test, and publish\n   npm run npm-publish\n   ```\n\n## License\n\nApache-2.0 license\n"
}